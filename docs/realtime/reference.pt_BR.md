# GTFS Referência Realtime

Uma alimentação Realtime GTFS permite que as agências de trânsito forneçam aos consumidores informações Realtime sobre interrupções em seus serviços (estações fechadas, linhas não operando, atrasos importantes, etc.) localização de seus veículos, e horários de chegada previstos.

A versão 2.0 da especificação da alimentação é discutida e documentada neste site. As versões válidas são "2.0", "1.0".

### Definições de termo

#### Obrigatório

No GTFS v2.0 e superiores, a coluna _Requerida_ descreve quais campos devem ser fornecidos por um produtor para que os dados de trânsito sejam válidos e façam sentido para uma aplicação consumidora.

Os seguintes valores são utilizados no campo _Obrigatório_:

*   **Necessário**: Este campo deve ser fornecido por um produtor de ração GTFS.
*   **Condicionalmente requerido**: Este campo é obrigatório sob certas condições, que estão delineadas no campo _Descrição_. Fora destas condições, o campo é opcional.
*   **Opcional**: Este campo é opcional e não é necessário que seja implementado pelos produtores. Entretanto, se os dados estiverem disponíveis nos sistemas automáticos de localização de veículos subjacentes (por exemplo, `carimbo de data/hora` VehiclePosition), recomenda-se que os produtores forneçam estes campos opcionais quando possível.

_Observe que os requisitos semânticos não foram definidos no GTFS versão 1.0, e portanto os feeds com `gtfs_realtime_version` de `1` podem não atender a esses requisitos (veja [a proposta de requisitos semânticos](https://github.com/google/transit/pull/64)_ para detalhes).

#### Cardinalidade

_A cardinalidade_ representa o número de elementos que podem ser fornecidos para um determinado campo, com os seguintes valores:

*   **Um** - Um único elemento pode ser fornecido para este campo. Este mapa do [Protocolo Buffer _requer_ e cardinalities _opcionais_](https://developers.google.com/protocol-buffers/docs/proto#simple).
*   **Muitos** - Muitos elementos (0, 1, ou mais) podem ser fornecidos para este campo. Este mapa ao Protocolo Tampão de Carcterísticas [_repetidas_](https://developers.google.com/protocol-buffers/docs/proto#simple).

Sempre faça referência aos campos _Obrigatório_ e _Descrição_ para ver quando um campo é obrigatório, condicionalmente obrigatório, ou opcional. Favor referir-se ao [GTFS-Realtime/proto/GTFS-Realtime.proto">`GTFS`](<https://github.com/google/transit/blob/master/\<glossary variable=>).proto para a cardinalidade do Protocolo Buffer.

#### Tipos de dados de buffer de protocolo

Os seguintes tipos de dados de buffer de protocolo são usados para descrever os elementos de alimentação:

*   **mensagem**: Tipo complexo
*   **enum**: Lista de valores fixos

#### Campos experimentais

Os campos rotulados como **experimentais** estão sujeitos a mudanças e ainda não foram formalmente adotados na especificação. Um campo **experimental** pode ser formalmente adotado no futuro.

## Índice de Elementos

*   [FeedMessage](#message-feedmessage)
    *   [FeedHeader](#message-feedheader)

        *   [Incrementalidade](#enum-incrementality)

    *   [FeedEntity](#message-feedentity)

        *   [TripUpdate](#message-tripupdate)

            *   [TripDescriptor](#message-tripdescriptor)

                *   [ScheduleRelationship](#enum-schedulerelationship-1)

            *   [VehicleDescriptor](#message-vehicledescriptor)

            *   [StopTimeUpdate](#message-stoptimeupdate)

                *   [StopTimeEvent](#message-stoptimeevent)
                *   [ScheduleRelationship](#enum-schedulerelationship)
                *   [StopTimeProperties](#message-stoptimeproperties)

            *   [TripProperties](#message-tripproperties)

        *   [VehiclePosition](#message-vehicleposition)

            *   [TripDescriptor](#message-tripdescriptor)

                *   [ScheduleRelationship](#enum-schedulerelationship-1)

            *   [VehicleDescriptor](#message-vehicledescriptor)

            *   [Posição](#message-position)

            *   [VehicleStopStatus](#enum-vehiclestopstatus)

            *   [CongestionLevel](#enum-congestionlevel)

            *   [OcupaçãoStatus](#enum-occupancystatus)

            *   [Detalhes sobre o transporte](#message-carriagedetails)

        *   [Alerta](#message-alert)

            *   [TimeRange](#message-timerange)

            *   [EntitySelector](#message-entityselector)

                *   [TripDescriptor](#message-tripdescriptor)

                    *   [ScheduleRelationship](#enum-schedulerelationship-1)

            *   [Porque](#enum-cause)

            *   [Efeito](#enum-effect)

            *   [TranslatedString](#message-translatedstring)

                *   [Tradução](#message-translation)

            *   [SeverityLevel](#enum-severitylevel)

## Elementos

## FeedMessage de_mensagens_

O conteúdo de uma mensagem de alimentação. Cada mensagem no fluxo é obtida como uma resposta a uma solicitação HTTP GET apropriada. Um feed Realtime é sempre definido em relação a um feed GTFS existente. Todos os ids da entidade são resolvidos com relação ao feed GTFS.

**Campos**

| _**Nome do campo**_ | _**Tipo**_                        | _**Obrigatório**_           | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                           |
| ------------------- | --------------------------------- | --------------------------- | ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **cabeçalho**       | [FeedHeader](#message-feedheader) | Obrigatório                 | Um                  | Metadados sobre esta mensagem de alimentação e alimentação.                                                                                                                                                                                               |
| **entidade**        | [FeedEntity](#message-feedentity) | Condicionalmente necessário | Muitos              | Conteúdo da ração.  Se houver informações em tempo real disponíveis para o sistema de trânsito, este campo deve ser fornecido.  Se este campo estiver vazio, os consumidores devem assumir que não há informação em tempo real disponível para o sistema. |

## FeedHeader de_mensagens_

Metadados sobre uma alimentação, incluídos nas mensagens de alimentação.

**Campos**

| _**Nome do campo**_       | _**Tipo**_                                                                 | _**Obrigatório**_ | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------------- | -------------------------------------------------------------------------- | ----------------- | ------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **gtfs_realtime_version** | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Obrigatório       | Um                  | Versão da especificação da alimentação. A versão atual é a 2.0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **incrementalidade**      | [Incrementalidade](#enum-incrementality)                                   | Obrigatório       | Um                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **timestamp**             | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Obrigatório       | Um                  | Este carimbo de tempo identifica o momento em que o conteúdo desta alimentação foi criado (em tempo de servidor). No horário POSIX (ou seja, número de segundos desde 1º de janeiro de 1970 00:00:00 UTC). Para evitar a distorção de tempo entre sistemas que produzem e consomem informações Realtime, é altamente recomendável derivar o carimbo de data/hora de um servidor de tempo. É completamente aceitável usar servidores de estratos 3 ou até mesmo servidores de estratos mais baixos, já que diferenças de tempo de até alguns segundos são toleráveis. |

## _enum_ Incrementalidade

Determina se o fetch atual é incremental.

*   **FULL_DATASET**: esta atualização de alimentação sobregravará todas as informações anteriores Realtime para a alimentação. Assim, espera-se que esta atualização forneça um instantâneo completo de todas as informações conhecidas Realtime.
*   **DIFERENCIAL**: atualmente, esta modalidade **não tem suporte** e o comportamento **não é especificado** para as rações que utilizam esta modalidade. Há discussões na [GTFS-realtime">lista de discussãoGTFS Realtime](<https://groups.google.com/group/\<glossary variable=>) em torno da especificação completa do comportamento do modo DIFERENCIAL e a documentação será atualizada quando essas discussões forem finalizadas.

**Valores**

| _**Valor**_      |
| ---------------- |
| **FULL_DATASET** |
| **DIFERENCIAL**  |

## FeedEntity da_mensagem_

Uma definição (ou atualização) de uma entidade na alimentação em trânsito. Se a entidade não estiver sendo apagada, exatamente um dos campos 'trip_update', 'veículo', 'alerta' e 'forma' deve ser preenchido.

**Campos**

| _**Nome do campo**_ | _**Tipo**_                                                                | _**Obrigatório**_           | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                     |
| ------------------- | ------------------------------------------------------------------------- | --------------------------- | ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **id**              | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Obrigatório                 | Um                  | Identificador único de alimentação para esta entidade. As identificações são utilizadas apenas para fornecer suporte de incremento. As entidades reais referenciadas pelo feed devem ser especificadas por seletores explícitos (ver EntidadeSeletor abaixo para mais informações).                                                                 |
| **is_deleted**      | [bool](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Opcional                    | Um                  | Se esta entidade deve ser excluída. Deve ser fornecido somente para rações com Incremento de DIFERENCIAL - este campo NÃO deve ser fornecido para rações com Incremento de FULL_DATASET.                                                                                                                                                            |
| **trip_update**     | [TripUpdate](#message-tripupdate)                                         | Condicionalmente necessário | Um                  | Dados sobre os atrasos de partida Realtime de uma viagem.  Pelo menos um dos campos trip_update, veículo, alerta, ou forma deve ser fornecido - todos estes campos não podem estar vazios.                                                                                                                                                          |
| **veículo**         | [VehiclePosition](#message-vehicleposition)                               | Condicionalmente necessário | Um                  | Dados sobre a posição Realtime de um veículo. Pelo menos um dos campos trip_update, veículo, alerta, ou forma deve ser fornecido - todos estes campos não podem estar vazios.                                                                                                                                                                       |
| **alerta**          | [Alerta](#message-alert)                                                  | Condicionalmente necessário | Um                  | Dados sobre o alerta Realtime. Pelo menos um dos campos trip_update, vehicle, alert, ou shape deve ser fornecido - todos estes campos não podem estar vazios.                                                                                                                                                                                       |
| **forma**           | [Forma](#message-shape)                                                   | Condicionalmente necessário | Um                  | Dados sobre as formas adicionadas Realtime, como por exemplo, para um desvio. Pelo menos um dos campos trip_update, veículo, alerta, ou forma deve ser fornecido - todos estes campos não podem estar vazios. <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro. |

## _mensagem_ TripUpdate

AtualizaçãoRealtime sobre o progresso de um veículo ao longo de uma viagem. Por favor, consulte também a discussão geral das [Realtime/trip-updates">entidades de atualização da viagem](</\<glossary variable=>).

Dependendo do valor do ScheduleRelationship, uma TripUpdate pode especificar:

*   Uma viagem que prossegue ao longo da Schedule.
*   Uma viagem que prossegue ao longo de uma rota mas que não tem um Schedule fixo.
*   Uma viagem que tenha sido acrescentada ou removida com relação ao Schedule.
*   Uma nova viagem que é uma cópia de uma viagem existente no GTFS estático. Ela será executada na data e hora de serviço especificada em TripProperties.

As atualizações podem ser para eventos futuros, previstos de chegada/partida, ou para eventos passados que já ocorreram. Na maioria dos casos, a informação sobre eventos passados é um valor medido, portanto, recomenda-se que seu valor de incerteza seja 0. Embora possa haver casos em que isso não aconteça, é permitido ter um valor de incerteza diferente de 0 para eventos passados. Se a incerteza de uma atualização não for 0, ou a atualização é uma previsão aproximada para uma viagem que não foi concluída ou a medição não é precisa ou a atualização foi uma previsão para o passado que não foi verificada após a ocorrência do evento.

Se um veículo estiver servindo várias viagens dentro do mesmo bloco (para mais informações sobre viagens e blocos, consulte o [Schedule/reference/#tripstxt">GTFS trips.txt](</\<glossary variable=>)):

*   a alimentação deve incluir uma TripUpdate para a viagem que está sendo servida atualmente pelo veículo. Os produtores são encorajados a incluir TripUpdate para uma ou mais viagens após a viagem atual no bloco deste veículo se o produtor estiver confiante na qualidade das previsões para estas viagens futuras. A inclusão de várias TripUpdates para o mesmo veículo evita a previsão "pop-in" para os motociclistas quando o veículo transita de uma viagem para outra e também dá aos motociclistas um aviso prévio de atrasos que impactam as viagens posteriores (por exemplo, quando o atraso conhecido excede os tempos de parada planejados entre as viagens).
*   as respectivas entidades TripUpdate não precisam ser adicionadas à alimentação na mesma ordem em que estão programadas no bloco. Por exemplo, se houver viagens com `trip_ids` 1, 2, e 3 que pertençam todas a um bloco, e o veículo viajar viagem 1, então viagem 2, e então viagem 3, as entidades `trip_update` podem aparecer em qualquer ordem - por exemplo, adicionando viagem 2, então viagem 1, e então viagem 3 é permitida.

Note que a atualização pode descrever uma viagem que já tenha sido concluída. Para isso, basta fornecer uma atualização para a última parada da viagem. Se a hora de chegada na última parada estiver no passado, o cliente concluirá que a viagem inteira está no passado (é possível, embora inconseqüente, fornecer também atualizações para as paradas anteriores). Esta opção é mais relevante para uma viagem que tenha sido concluída antes do Schedule, mas de acordo com o Schedule, a viagem ainda está prosseguindo no horário atual. A remoção das atualizações para esta viagem poderia fazer o cliente assumir que a viagem ainda está prosseguindo. Note que é permitido, mas não exigido, que o fornecedor de ração purgue as atualizações passadas - este é um caso em que isto seria praticamente útil.

**Campos**

| _**Nome do campo**_  | _**Tipo**_                                                                 | _**Obrigatório**_           | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| -------------------- | -------------------------------------------------------------------------- | --------------------------- | ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **viagem**           | [TripDescriptor](#message-tripdescriptor)                                  | Obrigatório                 | Um                  | A viagem à qual esta mensagem se aplica. Pode haver, no máximo, uma entidade TripUpdate para cada instância de viagem real. Se não houver nenhuma, isso significa que não há informações de previsão disponíveis. Ela faz _não_ significam que a viagem está progredindo de acordo com o Schedule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **veículo**          | [VehicleDescriptor](#message-vehicledescriptor)                            | Opcional                    | Um                  | Informações adicionais sobre o veículo que está servindo esta viagem.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **stop_time_update** | [StopTimeUpdate](#message-stoptimeupdate)                                  | Condicionalmente necessário | Muitos              | Atualizações para StopTimes para a viagem (tanto futuras, ou seja, previsões, como em alguns casos, passadas, ou seja, aquelas que já aconteceram). As atualizações devem ser ordenadas por stop_sequence, e se aplicam a todas as seguintes paradas da viagem até a próxima parada_time_update especificada.  Pelo menos uma data_de_utilização_de_tempo_de_parada deve ser fornecida para a viagem, a menos que a relação_de_tempo_de_parada seja CANCELADA ou DUPLICADA - se a viagem for cancelada, nenhuma data_de_utilização_de_parada precisa ser fornecida. Se a viagem for duplicada, as datas_de_actualização_parada poderão ser fornecidas para indicar informações em tempo real para a nova viagem.                                                                                                                                                                                                                                                                                                  |
| **timestamp**        | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Opcional                    | Um                  | O momento mais recente em que o progresso do veículo em tempo real foi medido para estimar os StopTimes no futuro. Quando são fornecidos os StopTimes no passado, os tempos de chegada/partida podem ser anteriores a este valor. No tempo POSIX (ou seja, o número de segundos desde 1º de janeiro de 1970 00:00:00 UTC).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **atraso**           | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Opcional                    | Um                  | O desvio do Schedule atual para a viagem. O atraso só deve ser especificado quando a previsão for dada em relação a algum Schedule existente no GTFS.<br/>O atraso (em segundos) pode ser positivo (significando que o veículo está atrasado) ou negativo (significando que o veículo está à frente do Schedule). Atraso de 0 significa que o veículo está exatamente na hora certa.<br/>As informações de atraso no StopTimeUpdate têm precedência sobre as informações de atraso no nível de viagem, de modo que o atraso no nível de viagem só é propagado até a próxima parada ao longo da viagem com um valor de atraso do StopTimeUpdate especificado.<br/>Os fornecedores de alimentação são fortemente encorajados a fornecer um valor TripUpdate.timestamp indicando quando o valor do atraso foi atualizado pela última vez, a fim de avaliar o frescor dos dados.<br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro. |
| **trip_properties**  | [TripProperties](#message-tripproperties)                                  | Opcional                    | Um                  | Fornece as propriedades atualizadas para a viagem. <br/><br/>**Cuidado: Cuidado:** esta mensagem ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

## _mensagem_ StopTimeEvent

Informações de tempo para um único evento previsto (chegada ou partida). O cronograma consiste em atraso e/ou tempo estimado, e incerteza.

*   O atraso deve ser usado quando a previsão é dada em relação a algum Schedule existente no GTFS.
*   O tempo deve ser dado se há ou não uma previsão de Schedule. Se tanto o tempo como o atraso forem especificados, o tempo terá precedência (embora normalmente, o tempo, se dado para uma viagem programada, deve ser igual ao tempo programado em GTFS + atraso).

A incerteza se aplica igualmente tanto ao tempo quanto ao atraso. A incerteza especifica aproximadamente o erro esperado no atraso real (mas note que ainda não definimos seu significado estatístico preciso). É possível que a incerteza seja 0, por exemplo, para trens que são dirigidos sob controle de tempo computadorizado.

**Campos**

| _**Nome do campo**_ | _**Tipo**_                                                                | _**Obrigatório**_           | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                     |
| ------------------- | ------------------------------------------------------------------------- | --------------------------- | ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **atraso**          | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Condicionalmente necessário | Um                  | O atraso (em segundos) pode ser positivo (significando que o veículo está atrasado) ou negativo (significando que o veículo está adiantado em relação ao Schedule). Atraso de 0 significa que o veículo está exatamente na hora certa.  O atraso ou o tempo deve ser fornecido dentro de um StopTimeEvent - ambos os campos não podem estar vazios. |
| **tempo**           | [int64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Condicionalmente necessário | Um                  | Evento como hora absoluta. Na hora POSIX (ou seja, número de segundos desde 1º de janeiro de 1970 00:00:00 UTC). O atraso ou o tempo deve ser fornecido dentro de um StopTimeEvent - ambos os campos não podem estar vazios.                                                                                                                        |
| **incerteza**       | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Opcional                    | Um                  | Se a incerteza for omitida, ela é interpretada como desconhecida. Para especificar uma previsão completamente certa, defina sua incerteza para 0.                                                                                                                                                                                                   |

## _mensagem_ StopTimeUpdate

AtualizaçãoRealtime para eventos de chegada e/ou partida para uma determinada parada em uma viagem. Consulte também a discussão geral das atualizações de tempo de parada no [TripDescriptor](#message-tripdescriptor) e na documentação [Realtime/trip-updates">das entidades de atualização da viagem](</\<glossary variable=>).

As atualizações podem ser fornecidas tanto para eventos passados como futuros. É permitido ao produtor, embora não seja necessário, abandonar eventos passados.

A atualização está ligada a uma parada específica através de stop_sequence ou stop_id, portanto um destes campos deve necessariamente ser definido. Se o mesmo stop_id for visitado mais de uma vez em uma viagem, então o stop_sequence deve ser fornecido em todas as StopTimeUpdates para aquele stop_id naquela viagem.

**Campos**

| _**Nome do campo**_               | _**Tipo**_                                                                 | _**Obrigatório**_           | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| --------------------------------- | -------------------------------------------------------------------------- | --------------------------- | ------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **stop_sequence**                 | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Condicionalmente necessário | Um                  | Deve ser o mesmo que em stop_times.txt na alimentação GTFS correspondente.  Tanto o stop_sequence quanto o stop_id devem ser fornecidos dentro de um StopTimeUpdate - ambos os campos não podem estar vazios. stop_sequence é necessário para viagens que visitam o mesmo stop_id mais de uma vez (por exemplo, um loop) para desambiguar para qual stop_id a previsão é destinada. Se `StopTimeProperties.assigned_stop_id` é povoada, então `stop_sequence` devem ser povoados.                    |
| **stop_id**                       | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Condicionalmente necessário | Um                  | Deve ser o mesmo que em stops.txt na alimentação correspondente do GTFS. Tanto o stop_sequence quanto o stop_id devem ser fornecidos dentro de um StopTimeUpdate - ambos os campos não podem estar vazios. Se `StopTimeProperties.assigned_stop_id` é povoada, é preferível omitir `stop_id` e usar apenas `stop_sequence`. Se `StopTimeProperties.assigned_stop_id` e `stop_id` são povoados, `stop_id` deve combinar `assigned_stop_id`.                                                           |
| **chegada**                       | [StopTimeEvent](#message-stoptimeevent)                                    | Condicionalmente necessário | Um                  | Se o schedule_relationship estiver vazio ou programado, tanto a chegada quanto a partida devem ser fornecidas dentro de um StopTimeUpdate - ambos os campos não podem estar vazios. chegada e partida podem estar ambos vazios quando o schedule_relationship estiver SKIPPED.  Se o horário_relacionamento for NO_DATA, a chegada e a partida devem estar vazias.                                                                                                                                   |
| **partida**                       | [StopTimeEvent](#message-stoptimeevent)                                    | Condicionalmente necessário | Um                  | Se o schedule_relationship estiver vazio ou programado, tanto a chegada quanto a partida devem ser fornecidas dentro de um StopTimeUpdate - ambos os campos não podem estar vazios. chegada e partida podem estar ambos vazios quando o schedule_relationship estiver SKIPPED.  Se o horário_relacionamento for NO_DATA, a chegada e a partida devem estar vazias.                                                                                                                                   |
| **status_de_ocupação_de_partida** | [OcupaçãoStatus](#enum-occupancystatus)                                    | Opcional                    | Um                  | O estado previsto de ocupação do veículo pelos passageiros imediatamente após a partida da parada em questão. Se fornecido, a stop_sequence deve ser fornecida. Para fornecer o estado de ocupação_de_partida sem fornecer qualquer previsão de chegada ou partida em tempo real, preencha este campo e defina StopTimeUpdate.schedule_relationship = NO_DATA. <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro. |
| **programação_relacionamento**    | [ScheduleRelationship](#enum-schedulerelationship)                         | Opcional                    | Um                  | A relação padrão é REGISTADA.                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **stop_time_properties**          | [StopTimeProperties](#message-stoptimeproperties)                          | Opcional                    | Um                  | AtualizaçõesRealtime para certas propriedades definidas dentro do GTFS stop_times.txt <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                                                                                                                                          |

## _enum_ ProgramaçãoRelação

A relação entre este StopTime e o Schedule estático.

**Valores**

| _**Valor**_     | _**Comentário**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| --------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **PROGRAMADO**  | O veículo está procedendo de acordo com seu Schedule estático de paradas, embora não necessariamente de acordo com os horários do Schedule. Este é o **padrão** comportamento. Pelo menos uma de chegada e partida deve ser providenciada. Viagens baseadas em freqüênciaGTFS frequencies.txt com tempo_exato = 0) não devem ter um valor ESQUECIDO e devem usar UNSCHEDULED em seu lugar.                                                                                                                                                                                                                                                                                                                                                                                                           |
| **SKIPPED**     | A parada é pulada, ou seja, o veículo não irá parar nesta parada. A chegada e a partida são opcionais. Quando ajustado `SKIPPED` não é propagado para paradas subseqüentes na mesma viagem (ou seja, o veículo irá parar em paradas subseqüentes na viagem, a menos que essas paradas também tenham um `stop_time_update` com `schedule_relationship: SKIPPED`). Atraso em relação a uma parada anterior na viagem _faz_ propagar sobre o `SKIPPED` parar. Em outras palavras, se um `stop_time_update` com um `arrival` ou `departure` não é feita uma previsão para uma parada após a `SKIPPED` parar, a previsão a montante do `SKIPPED` parada será propagada até a parada após a `SKIPPED` e paradas subseqüentes na viagem até uma `stop_time_update` para uma parada subseqüente é fornecida. |
| **NO_DATA**     | Não são fornecidos dados para esta parada. Isso indica que não há informações de tempo Realtime disponíveis. Quando a opção NO_DATA é propagada através de paradas subseqüentes, esta é a forma recomendada de especificar de qual parada você não tem informações de tempo Realtime. Quando NO_DATA é definido, nem a chegada nem a partida devem ser fornecidas.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **UNSCHEDULED** | O veículo está operando uma viagem baseada em freqüênciaGTFS frequencies.txtGTFS frequencies.txt com tempo_exato = 0). Este valor não deve ser usado para viagens que não estão definidas em frequencies.txt GTFS frequencies.txt, ou viagens em frequencies.txt GTFS frequencies.txt com tempos_exatos = 1. Viagens contendo `stop_time_updates` com `schedule_relationship: UNSCHEDULED` também deve definir o TripDescriptor `schedule_relationship: UNSCHEDULED` <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                                                           |

## _mensagem_ StopTimeProperties

AtualizaçãoRealtime para certas propriedades definidas dentro do GTFS stop_times.txt.

**Cuidado:** esta mensagem ainda é **experimental**, e está sujeita a mudanças. Ela pode ser adotada formalmente no futuro.<br/>

**Campos**

| _**Nome do campo**_  | _**Tipo**_                                                                | _**Obrigatório**_ | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| -------------------- | ------------------------------------------------------------------------- | ----------------- | ------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **assigned_stop_id** | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Opcional          | Um                  | Apoia as tarefas de parada em tempo real. Refere-se a um `stop_id` definido no GTFS `stops.txt`. <br/> O novo `assigned_stop_id` não deve resultar em uma experiência de viagem significativamente diferente para o usuário final do que a `stop_id` definido no GTFS `stop_times.txt`. Em outras palavras, o usuário final não deve ver este novo `stop_id` como uma "mudança incomum" se a nova parada foi apresentada dentro de um aplicativo sem qualquer contexto adicional. Por exemplo, este campo destina-se a ser usado para atribuições de plataformas usando um `stop_id` que pertence à mesma estação que a parada originalmente definida no GTFS `stop_times.txt`. <br/> Para atribuir uma parada sem fornecer qualquer previsão de chegada ou partida em tempo real, povoar este campo e definir `StopTimeUpdate.schedule_relationship = NO_DATA`. <br/> Se este campo for populado, `StopTimeUpdate.stop_sequence` deve ser povoada e `StopTimeUpdate.stop_id` não devem ser povoados. As atribuições de parada devem ser refletidas também em outros campos GTFS(por exemplo `VehiclePosition.stop_id`). <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro. |

## _mensagem_ TripProperties

Define as propriedades atualizadas da viagem

Cuidado**:** esta mensagem ainda é **experimental**, e está sujeita a mudanças. Ela pode ser adotada formalmente no futuro.<br/>.

**Campos**

| _**Nome do campo**_ | _**Tipo**_                                                                | _**Obrigatório**_           | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------------------- | ------------------------------------------------------------------------- | --------------------------- | ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **trip_id**         | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Condicionalmente necessário | Um                  | Define o identificador de uma nova viagem que é uma duplicata de uma viagem existente definida em (CSV) GTFS trips.txt mas que começará em uma data e/ou hora de serviço diferente (definida usando `TripProperties.start_date` e `TripProperties.start_time`). Ver definição de `trips.trip_id` em (CSV) GTFS. Seu valor deve ser diferente dos utilizados no (CSV) GTFS. Este campo é obrigatório se `schedule_relationship` é `DUPLICATED`Caso contrário, este campo não deve ser populado e será ignorado pelos consumidores. <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **data_de_início**  | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Condicionalmente necessário | Um                  | Data de serviço na qual a viagem duplicada será executada. Deve ser fornecido no formato AAAAMMDD. Este campo é obrigatório se `schedule_relationship` é `DUPLICATED`Caso contrário, este campo não deve ser populado e será ignorado pelos consumidores. <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **start_time**      | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Condicionalmente necessário | Um                  | Define a hora de partida da viagem quando esta é duplicada. Ver definição de `stop_times.departure_time` em (CSV) GTFS. Os horários programados de chegada e partida para a viagem duplicada são calculados com base na compensação entre a viagem original `departure_time` e este campo. Por exemplo, se uma viagem GTFS tem parada A com um `departure_time` de `10:00:00` e parar B com `departure_time` de `10:01:00`e este campo é povoado com o valor de `10:30:00`A parada B na viagem duplicada terá um horário `departure_time` de `10:31:00`. Previsão em tempo real `delay` são aplicados a este tempo de Schedule calculado para determinar o tempo previsto. Por exemplo, se uma partida `delay` de `30` está previsto para a parada B, então a hora prevista de partida é `10:31:30`. Previsão em tempo real `time` não têm nenhuma compensação aplicada a eles e indicam o tempo previsto, conforme previsto.  Por exemplo, se uma partida `time` representando 10:31:30 está previsto para a parada B, então a hora prevista de partida é `10:31:30`Este campo é obrigatório se `schedule_relationship` é `DUPLICATED`Caso contrário, este campo não deve ser populado e será ignorado pelos consumidores. <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro. |
| **shape_id**        | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Opcional                    | Um                  | Especifica a forma do trajeto do veículo para esta viagem quando ela difere da original. Refere-se a uma forma definida no GTFS (CSV) ou uma nova entidade de forma em uma alimentação em tempo real. Ver definição de `trips.shape_id` em (CSV) GTFS. <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

## _mensagem_ VehiclePosition

Informações de posicionamentoRealtime para um determinado veículo.

**Campos**

| _**Nome do campo**_           | _**Tipo**_                                                                 | _**Obrigatório**_ | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----------------------------- | -------------------------------------------------------------------------- | ----------------- | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **viagem**                    | [TripDescriptor](#message-tripdescriptor)                                  | Opcional          | Um                  | A viagem que este veículo está servindo. Pode ser vazio ou parcial se o veículo não puder ser identificado com uma determinada instância de viagem.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **veículo**                   | [VehicleDescriptor](#message-vehicledescriptor)                            | Opcional          | Um                  | Informações adicionais sobre o veículo que está servindo esta viagem. Cada entrada deve ter um **único** identificação do veículo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **posição**                   | [Posição](#message-position)                                               | Opcional          | Um                  | Posição atual deste veículo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **parada_corrente_seqüência** | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Opcional          | Um                  | O índice da seqüência de parada da parada atual. O significado da sequência de_stop_corrente (ou seja, a parada a que se refere) é determinado pelo estado_corrente. Se o estado_corrente está faltando IN_TRANSIT_TO é assumido.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **stop_id**                   | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Opcional          | Um                  | Identifica a parada atual. O valor deve ser o mesmo que em stops.txt na alimentação correspondente do GTFS. Se `StopTimeProperties.assigned_stop_id` é usado para atribuir um `stop_id`este campo também deve refletir a mudança em `stop_id`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **estado_actual**             | [VehicleStopStatus](#enum-vehiclestopstatus)                               | Opcional          | Um                  | O status exato do veículo em relação à parada atual. Ignorado se falta a_stop_sequence atual.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **timestamp**                 | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Opcional          | Um                  | Momento no qual a posição do veículo foi medida. Na hora POSIX (ou seja, número de segundos desde 1º de janeiro de 1970 00:00:00 UTC).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **nível_de_congestionamento** | [CongestionLevel](#enum-congestionlevel)                                   | Opcional          | Um                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **status_de_ocupação**        | [OcupaçãoStatus](#enum-occupancystatus)                                    | _Opcional_        | Um                  | O estado de ocupação dos passageiros para o veículo ou para o transporte. Se o multi_carriage_details for preenchido com o estado de ocupação por vagão, então este campo deve descrever o veículo inteiro com todas as carruagens aceitando passageiros considerados.<br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **porcentagem_de_ocupação**   | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Opcional          | Um                  | Um valor percentual que indica o grau de ocupação dos passageiros no veículo. O valor 100 deve representar a ocupação máxima total para a qual o veículo foi projetado, incluindo tanto a capacidade em lugares sentados quanto em pé, e os regulamentos operacionais atuais permitem. O valor pode exceder 100 se houver mais passageiros do que a capacidade máxima projetada. A precisão da porcentagem de ocupação deve ser suficientemente baixa para que os passageiros individuais não possam ser rastreados ao embarcar ou desembarcar no veículo. Se os detalhes_multi_carro são preenchidos com a porcentagem_por_carro de ocupação, então este campo deve descrever o veículo inteiro com todas as carruagens aceitando passageiros considerados.<br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro. |
| **multi_carriage_details**    | [Detalhes sobre o transporte](#message-CarriageDetails)                    | Opcional          | Muitos              | Detalhes sobre as múltiplas carruagens deste veículo dado. A primeira ocorrência representa a primeira carruagem do veículo, **dada a direção atual da viagem**. O número de ocorrências do campo multi_carros_detalhes representa o número de carruagens do veículo. Ele também inclui as carruagens não navegáveis, como motores, carruagens de manutenção, etc... pois elas fornecem informações valiosas aos passageiros sobre onde ficar em uma plataforma.<br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                                                                                                                                                             |

## _enum_ VehicleStopStatus

**Valores**

| _**Valor**_       | _**Comentário**_                                                                                          |
| ----------------- | --------------------------------------------------------------------------------------------------------- |
| **INCOMING_AT**   | O veículo está prestes a chegar à parada (em uma tela de parada, o símbolo do veículo normalmente pisca). |
| **STOPPED_AT**    | O veículo está de pé na parada.                                                                           |
| **IN_TRANSIT_TO** | O veículo já partiu da parada anterior e está em trânsito.                                                |

## _enum_ CongestionLevel

O nível de congestionamento que está afetando este veículo.

**Valores**

| _**Valor**_                               |
| ----------------------------------------- |
| **NÍVEL_DE_CONGESTIONAMENTO_SECONHECIDO** |
| **RUNNING_SMOOTHLY**                      |
| **STOP_AND_GO**                           |
| **CONGESTÃO**                             |
| **SEVERA_CONGESTIONAMENTO**               |

## _enum OcupaçãoStatus_

O estado de ocupação de passageiros para o veículo ou para o transporte.

Os produtores individuais não podem publicar todos os valores do OccupancyStatus. Portanto, os consumidores não devem assumir que os valores do OccupancyStatus seguem uma escala linear. Os consumidores devem representar os valores da OccupancyStatus como o estado indicado e pretendido pelo produtor. Da mesma forma, os produtores devem usar os valores do OccupancyStatus que correspondem aos estados reais de ocupação do veículo.

Para descrever os níveis de ocupação dos passageiros em uma escala linear, veja `occupancy_percentage`.

**Cuidado:** este campo ainda é **experimental**, e está sujeito a mudanças. Ele pode ser adotado formalmente no futuro.

_**Valores**_

| _**Valor**_                                           | _**Comentário**_                                                                                                                                                                                                                                          |
| ----------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| _**VAZIO**_                                           | _O veículo é considerado vazio pela maioria das medidas, e tem poucos ou nenhum passageiro a bordo, mas ainda aceita passageiros._                                                                                                                        |
| _**MUITOS_ASSENTOS_DISPONÍVEIS**_                     | _O veículo ou carro tem um grande número de assentos disponíveis. A quantidade de assentos livres do total de assentos disponíveis para ser considerada suficientemente grande para se enquadrar nesta categoria é determinada a critério do produtor._   |
| _**POUCOS_ASSENTOS_DISPONÍVEIS**_                     | _O veículo ou carro tem um pequeno número de assentos disponíveis. A quantidade de assentos livres do total de assentos disponíveis para ser considerada suficientemente pequena para se enquadrar nesta categoria é determinada a critério do produtor._ |
| _**SOMENTE_SENTO_EM_SENTO**_                          | _Atualmente, o veículo ou carro pode acomodar apenas passageiros em pé._                                                                                                                                                                                  |
| _**SOMENTE_SUA_SUA_SUA_SUA_SUA_SUA_SUA_SUA_SUA_SUA**_ | _Atualmente, o veículo ou carro pode acomodar apenas passageiros em pé e tem espaço limitado para eles._                                                                                                                                                  |
| _**FULL**_                                            | _O veículo é considerado cheio pela maioria das medidas, mas ainda pode estar permitindo o embarque de passageiros._                                                                                                                                      |
| _**NÃO_ACEITANDO_PASSAGEIROS**_                       | _O veículo ou carro não está aceitando passageiros. O veículo ou carruagem geralmente aceita passageiros para embarque._                                                                                                                                  |
| _**NÃO_DADOS_DISPONÍVEIS**_                           | _O veículo ou carro não tem nenhum dado de ocupação disponível naquele momento._                                                                                                                                                                          |
| _**NÃO_BARRÁVEL**_                                    | _O veículo ou carro não pode ser embarcado e nunca aceita passageiros. Útil para veículos ou carruagens especiais (motor, carro de manutenção, etc...)._                                                                                                  |

## _mensagem_ CarruagemDetalhes

Detalhes específicos do carro, utilizado para veículos compostos de várias carruagens.

**Cuidado:** esta mensagem ainda é **experimental**, e está sujeita a mudanças. Ela pode ser adotada formalmente no futuro.

**Campos**

| _**Nome do campo**_         | _**Tipo**_                                                                 | _**Obrigatório**_ | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| --------------------------- | -------------------------------------------------------------------------- | ----------------- | ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **id**                      | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Opcional          | Um                  | Identificação do transporte. Deve ser único por veículo. <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **etiqueta**                | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Opcional          | Um                  | Etiqueta visível do usuário que pode ser mostrada ao passageiro para ajudar a identificar o transporte. Exemplo: "7712", "Carro ABC-32", etc... <br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **status_de_ocupação**      | [OcupaçãoStatus](#enum-occupancystatus)                                    | Opcional          | Um                  | Status de ocupação para este dado transporte, neste veículo. O padrão é definido para `NO_DATA_AVAILABLE`.<br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **porcentagem_de_ocupação** | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Opcional          | Um                  | Porcentagem de ocupação para este determinado transporte, neste veículo. Segue as mesmas regras que "VehiclePosition.occupancy_percentage". Use -1 no caso de não haver dados disponíveis para este determinado transporte.<br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **sequência_de_carro**      | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Obrigatório       | Um                  | Identifica a ordem deste transporte em relação às outras carruagens da lista de estado do transporte do veículo. O primeiro carro no sentido da marcha deve ter o valor 1. O segundo valor corresponde ao segundo carro no sentido da marcha e deve ter o valor 2, e assim por diante. Por exemplo, o primeiro carro no sentido da marcha tem um valor 1. Se o segundo carro no sentido da marcha tem um valor 3, os consumidores descartarão dados para todos os carros (isto é, o campo multi_carriage_details). As carruagens sem dados devem ser representadas com um número de sequência_carruagem válido e os campos sem dados devem ser omitidos (alternadamente, esses campos também poderiam ser incluídos e definidos para os valores "sem dados"). <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro. |

## Alerta de_mensagem_

Um alerta, indicando algum tipo de incidente na rede de transporte público.

**Campos**

| _**Nome do campo**_             | _**Tipo**_                                    | _**Obrigatório**_ | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ------------------------------- | --------------------------------------------- | ----------------- | ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **período_activo**              | [TimeRange](#message-timerange)               | Opcional          | Muitos              | Hora em que o alerta deve ser mostrado ao usuário. Se faltar, o alerta será mostrado desde que apareça na alimentação. Se forem dados múltiplos intervalos, o alerta será mostrado durante todos eles.                                                                                                                                                                                                                                                                                                                                                                      |
| **entidade_desenvolvida**       | [EntitySelector](#message-entityselector)     | Obrigatório       | Muitos              | Entidades cujos usuários devemos notificar sobre este alerta.  Pelo menos uma entidade informada_ deve ser fornecida.                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **causa**                       | [Porque](#enum-cause)                         | Opcional          | Um                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **efeito**                      | [Efeito](#enum-effect)                        | Opcional          | Um                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **url**                         | [TranslatedString](#message-translatedstring) | Opcional          | Um                  | A URL que fornece informações adicionais sobre o alerta.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **header_text**                 | [TranslatedString](#message-translatedstring) | Obrigatório       | Um                  | Cabeçalho para o alerta. Esta cadeia de texto simples será destacada, por exemplo, em negrito.                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **descrição_texto**             | [TranslatedString](#message-translatedstring) | Obrigatório       | Um                  | Descrição para o alerta. Esta seqüência de texto simples será formatada como o corpo do alerta (ou mostrada em uma solicitação explícita de "expansão" por parte do usuário). As informações na descrição devem ser adicionadas às informações do cabeçalho.                                                                                                                                                                                                                                                                                                                |
| **tts_header_text**             | [TranslatedString](#message-translatedstring) | Opcional          | Um                  | Texto contendo o cabeçalho do alerta a ser usado para implementações de texto-para-fala. Este campo é a versão texto-para-fala do cabeçalho_texto. Ele deve conter as mesmas informações do cabeçalho_texto, mas formatado de forma que possa ser lido como texto-para-fala (por exemplo, abreviações removidas, números escritos, etc.).                                                                                                                                                                                                                                   |
| **tts_description_text**        | [TranslatedString](#message-translatedstring) | Opcional          | Um                  | Texto contendo uma descrição para o alerta a ser usado para implementações de texto-para-fala. Este campo é a versão texto-para-fala do texto de descrição. Ele deve conter as mesmas informações do texto_descricção, mas formatado de forma que possa ser lido como texto-fala (por exemplo, abreviações removidas, números soletrados, etc.).                                                                                                                                                                                                                            |
| **nível_de_gravidade**          | [SeverityLevel](#enum-severitylevel)          | Opcional          | Um                  | Severidade do alerta.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **imagem**                      | [TranslatedImage](#message-translatedimage)   | Opcional          | Um                  | TraduzidaImagem a ser exibida ao longo do texto de alerta. Usada para explicar visualmente o efeito de alerta de um desvio, fechamento da estação, etc. A imagem deve melhorar a compreensão do alerta e não deve ser o único local de informação essencial. Os seguintes tipos de imagens são desencorajados: imagens contendo principalmente texto, marketing ou imagens de marca que não acrescentam nenhuma informação adicional. <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro. |
| **texto_alternativo_de_imagem** | [TranslatedString](#message-translatedstring) | Opcional          | Um                  | Texto descrevendo a aparência da imagem vinculada no `image` (por exemplo, caso a imagem não possa ser exibida ou o usuário não consiga ver a imagem por razões de acessibilidade). Veja o HTML [especificação para texto da imagem alt](https://html.spec.whatwg.org/#alt). <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                          |

## _enum_ Cause

Causa deste alerta.

**Valores**

| _**Valor**_               |
| ------------------------- |
| **DESCONHECIMENTO_CAUSA** |
| **OUTRAS_CAUSAS**         |
| **PROBLEMA_TÉCNICO**      |
| **STRIKE**                |
| **DEMONSTRAÇÃO**          |
| **ACCIDENTE**             |
| **HOLIDAY**               |
| **CLIENTE**               |
| **PRINTENÇA**             |
| **CONSTRUÇÃO**            |
| **ATIVIDADE_POLICIAL**    |
| **EMERGÊNCIA_MÉDICA**     |

## _enum_ Efeito

O efeito deste problema sobre a entidade afetada.

**Valores**

| _**Valor**_                    |
| ------------------------------ |
| **NÃO_SERVIÇO**                |
| **SERVIÇO_REDUZIDO**           |
| **ATRASOS_ SIGNIFICATIVOS**    |
| **DETOUR**                     |
| **SERVIÇO_ADICIONAL**          |
| **SERVIÇO_SERVIÇO_MODIFICADO** |
| **OUTROS_EFEITOS**             |
| **DESCONHECIMENTO_EFEITO**     |
| **STOP_MOVED**                 |
| **NÃO_EFEITO**                 |
| **ACCESSIBILITY_ISSUE**        |

## _enum_ SeverityLevel

A gravidade do alerta.

**Cuidado:** este campo ainda é **experimental**, e está sujeito a mudanças. Ele pode ser adotado formalmente no futuro.

**Valores**

| _**Valor**_                 |
| --------------------------- |
| **DESCONHECIDO_SEVERIDADE** |
| **INFO**                    |
| **ADVERTÊNCIA**             |
| **SEVERE**                  |

## _mensagem_ TimeRange

Um intervalo de tempo. O intervalo é considerado ativo no tempo `t` se `t` for maior ou igual ao tempo inicial e menor que o tempo final.

**Campos**

| _**Nome do campo**_ | _**Tipo**_                                                                 | _**Obrigatório**_           | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                 |
| ------------------- | -------------------------------------------------------------------------- | --------------------------- | ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **início**          | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Condicionalmente necessário | Um                  | Hora de início, na hora POSIX (ou seja, número de segundos desde 1º de janeiro de 1970 00:00:00 UTC). Se faltar, o intervalo começa no infinito negativo.  Se for fornecido um intervalo de tempo, tanto o início quanto o final devem ser fornecidos - ambos os campos não podem estar vazios. |
| **fim**             | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Condicionalmente necessário | Um                  | Hora final, no tempo POSIX (ou seja, número de segundos desde 1º de janeiro de 1970 00:00:00 UTC). Se faltar, o intervalo termina em mais infinito. Se um intervalo de tempo for fornecido, tanto o início quanto o final devem ser fornecidos - ambos os campos não podem estar vazios.        |

## _mensagem_ Posição

Uma posição geográfica de um veículo.

**Campos**

| _**Nome do campo**_ | _**Tipo**_                                                                    | _**Obrigatório**_ | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                           |
| ------------------- | ----------------------------------------------------------------------------- | ----------------- | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **latitude**        | [flutuador](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Obrigatório       | Um                  | Graus Norte, no sistema de coordenadas WGS-84.                                                                                                                                                                                                                                                                            |
| **longitude**       | [flutuador](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Obrigatório       | Um                  | Graus Leste, no sistema de coordenadas WGS-84.                                                                                                                                                                                                                                                                            |
| **rolamento**       | [flutuador](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Opcional          | Um                  | Rolando, em graus, no sentido horário do Norte verdadeiro, ou seja, 0 é Norte e 90 é Leste. Este pode ser o rolamento da bússola, ou a direção para a próxima parada ou local intermediário. Isto não deve ser deduzido da seqüência de posições anteriores, que os clientes podem computar a partir de dados anteriores. |
| **odômetro**        | [duplo](https://developers.google.com/protocol-buffers/docs/proto#scalar)     | Opcional          | Um                  | Valor do odômetro, em metros.                                                                                                                                                                                                                                                                                             |
| **velocidade**      | [flutuador](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Opcional          | Um                  | Velocidade momentânea medida pelo veículo, em metros por segundo.                                                                                                                                                                                                                                                         |

## _mensagem_ TripDescriptor

Um descritor que identifica uma única instância de uma viagem GTFS.

Para especificar uma única instância de viagem, em muitos casos um `trip_id` por si só é suficiente. Entretanto, os seguintes casos requerem informações adicionais para serem resolvidos para uma única instância de viagem:

*   Para viagens definidas em frequencies.txt, são necessárias `data_de_início` e `start_time`, além do `trip_id`
*   Se a viagem durar mais de 24 horas, ou se for atrasada de tal forma que colida com uma viagem programada no dia seguinte, então a `data_de_início` é necessária, além do `trip_id`
*   Se o campo `trip_id` não puder ser fornecido, então o `route_id`, `direction_id`, `start_date`, e `start_time` devem ser todos fornecidos

Em todos os casos, se o `route_id` for fornecido além do `trip_id`, então o `route_id` deve ser o mesmo `route_id` atribuído a uma determinada viagem em GTFS trips.txt

O campo `trip_id` não pode, por si só ou em combinação com outros campos TripDescriptor, ser usado para identificar múltiplas instâncias de viagem. Por exemplo, um TripDescriptor nunca deve especificar o trip_id por si só para frequencies.txt GTFS frequencies.txt exatamente_tempo=0 viagens porque o start_time também é necessário para resolver para uma única instância de viagem começando em uma hora específica do dia. Se o TripDescriptor não resolve para uma única instância de viagem (ou seja, resolve para zero ou múltiplas instâncias de viagem), ele é considerado um erro e a entidade contendo o TripDescriptor errado pode ser descartada pelos consumidores.

Observe que se o trip_id não for conhecido, então os ids de seqüência de estação no TripUpdate não são suficientes, e os stop_ids também devem ser fornecidos. Além disso, os horários absolutos de chegada/partida devem ser fornecidos.

TripDescriptor.route_id. não pode ser usado dentro de um Alert EntitySelector para especificar um alerta de toda a rota que afeta todas as viagens para uma rota - use o EntitySelector.route_id. em vez disso.

**Campos**

| _**Nome do campo**_            | _**Tipo**_                                                                 | _**Obrigatório**_           | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ------------------------------ | -------------------------------------------------------------------------- | --------------------------- | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **trip_id**                    | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Condicionalmente necessário | Um                  | O trip_id do feed GTFS ao qual este seletor se refere. Para viagens não baseadas em freqüência (viagens não definidas em frequencies.txt GTFS frequencies.txt), este campo é suficiente para identificar a viagem de forma única. Para viagens baseadas em freqüência definidas em frequencies.txt GTFS frequencies.txt, trip_id, start_time e start_date são todas necessárias. Para viagens baseadas em programação (viagens não definidas em freqüências GTFS. frequencies.txt), o trip_id só pode ser omitido se a viagem puder ser identificada exclusivamente por uma combinação de route_id, direction_id, start_time e start_date, e todos esses campos são fornecidos. Quando o schedule_relationship é DUPLICADO dentro de uma TripUpdate, o trip_id identifica a viagem a partir do GTFS estático a ser duplicado. Quando o schedule_relationship é DUPLICADO dentro de uma posição VehiclePosition, o trip_id identifica a nova viagem duplicada e deve conter o valor para o TripUpdate.TripProperties.trip_id.                                                                                                                                                                                                                     |
| **route_id**                   | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Condicionalmente necessário | Um                  | O route_id do GTFS ao qual este seletor se refere. Se trip_id for omitido, route_id, direction_id, start_time, e schedule_relationship=SCHEDULED devem ser todos definidos para identificar uma instância de viagem. TripDescriptor.route_id não deve ser usado dentro de um Alert EntitySelector para especificar um alerta de toda a rota que afeta todas as viagens para uma rota - use o EntitySelector.route_id em seu lugar.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **direção_id**                 | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Condicionalmente necessário | Um                  | O direction_id do arquivo GTFS feed trips.txt, indicando a direção da viagem para as viagens a que este seletor se refere. Se o trip_id for omitido, o direction_id deve ser fornecido. <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **start_time**                 | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Condicionalmente necessário | Um                  | A hora de início inicialmente programada para esta instância de viagem. Quando o trip_id corresponde a uma viagem não baseada em freqüência, este campo deve ser omitido ou ser igual ao valor na alimentação GTFS. Quando o trip_id corresponde a uma viagem baseada em freqüência definida em frequencies.txt GTFS frequencies.txt, a start_time é requerida e deve ser especificada para atualizações de viagem e posições do veículo. Se a viagem corresponder a tempos_exatos=1 registro GTFS, então start_time deve ser algum múltiplo (incluindo zero) de avanço_segundo_de_vigilância posterior às frequencies.txt start_time para o período de tempo correspondente. Se a viagem corresponder a horas_exatas=0, então sua start_time pode ser arbitrária, e espera-se inicialmente que seja a primeira partida da viagem. Uma vez estabelecido, a start_time desta viagem baseada na_tempo_exato_da_freqüência deve ser considerada imutável, mesmo se a primeira hora de partida mudar - essa mudança de hora pode, em vez disso, ser refletida em um StopTimeUpdate. Se o trip_id for omitido, a start_time deve ser fornecida. O formato e a semântica do campo é o mesmo do GTFSfrequencies.txt, por exemplo, 11:15:35 ou 25:15:35. |
| **data_de_início**             | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Condicionalmente necessário | Um                  | A data de início desta instância de viagem no formato AAAAMMDD. Para viagens programadas (viagens não definidas em frequencies.txt GTFS frequencies.txt), este campo deve ser fornecido para desambiguar viagens que estejam tão atrasadas a ponto de colidir com uma viagem programada em um dia seguinte. Por exemplo, para um trem que parte das 8:00 e 20:00 todos os dias, e está 12 horas atrasado, haveria duas viagens distintas na mesma hora. Este campo pode ser fornecido mas não é obrigatório para horários em que tais colisões são impossíveis - por exemplo, um serviço que funciona em Schedule onde um veículo que está uma hora atrasado não é mais considerado como relacionado ao Schedule. Este campo é obrigatório para viagens baseadas na freqüência definida no GTFS frequencies.txt Se o trip_id for omitido, a data_de_início deve ser fornecida.                                                                                                                                                                                                                                                                                                                                                                   |
| **programação_relacionamento** | [ScheduleRelationship](#enum-schedulerelationship-1)                       | Opcional                    | Um                  | A relação entre esta viagem e o Schedule estático. Se o TripDescriptor for fornecido em um Alerta `EntitySelector`o `schedule_relationship` campo é ignorado pelos consumidores ao identificar a instância de viagem correspondente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

## _enum_ ProgramaçãoRelação

A relação entre esta viagem e o Schedule estático. Se uma viagem é feita de acordo com a Schedule temporária, não refletida no GTFS, então ela não deve ser marcada como REGISTRADA, mas sim como ACRESCENTADA.

**Valores**

| _**Valor**_      | _**Comentário**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **PROGRAMADO**   | Viagem que esteja funcionando de acordo com sua Schedule GTFS, ou que esteja suficientemente próxima da viagem programada para ser associada a ela.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **ACRESCENTADO** | Uma viagem extra que foi acrescentada além de um Schedule de funcionamento, por exemplo, para substituir um veículo quebrado ou para responder a uma carga repentina de passageiros. _OBSERVAÇÃO: Atualmente, o comportamento é indeterminado para os alimentadores que utilizam este modo. Há discussões sobre o GTFS GitHub [(1)](https://github.com/google/transit/issues/106) [(2)](https://github.com/google/transit/pull/221) [(3)](https://github.com/google/transit/pull/219) ao redor da especificação completa ou depreciação de viagens ADDED e a documentação será atualizada quando essas discussões forem finalizadas._                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **UNSCHEDULED**  | Uma viagem que esteja sendo executada sem Schedule associado a ela - este valor é usado para identificar viagens definidas em frequencies.txt GTFS frequencies.txt com tempos_exatos = 0. Não deve ser usado para descrever viagens não definidas em frequencies.txt GTFS frequencies.txt, ou viagens em frequencies.txt GTFS frequencies.txt com tempos_exatos = 1. Viagens com `schedule_relationship: UNSCHEDULED` também deve definir todas as atualizações do StopTimeUpdates `schedule_relationship: UNSCHEDULED`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **CANCELADO**    | Uma viagem que existia na Schedule, mas que foi removida.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **DUPLICADO**    | Uma nova viagem que é a mesma que uma viagem programada existente, exceto pela data e hora de início do serviço. Usado com `TripUpdate.TripProperties.trip_id`, `TripUpdate.TripProperties.start_date`e `TripUpdate.TripProperties.start_time` para copiar uma viagem existente do GTFS estático, mas começar em uma data e/ou hora de serviço diferente. A duplicação de uma viagem é permitida se o serviço relacionado com a viagem original em (CSV) GTFS (em `calendar.txt` ou `calendar_dates.txt`) está operando dentro dos próximos 30 dias. A viagem a ser duplicada é identificada através de `TripUpdate.TripDescriptor.trip_id`. <br/><br/> Esta enumeração não modifica a viagem existente referenciada por `TripUpdate.TripDescriptor.trip_id` - se um produtor quiser cancelar a viagem original, ele deve publicar uma `TripUpdate` com o valor de CANCELADO. Viagens definidas em GTFS `frequencies.txt` com `exact_times` que esteja vazia ou igual a `0` não pode ser duplicado. O `VehiclePosition.TripDescriptor.trip_id` para a nova viagem deve conter o valor correspondente de `TripUpdate.TripProperties.trip_id` e `VehiclePosition.TripDescriptor.ScheduleRelationship` também deve ser ajustado para `DUPLICATED`.  <br/><br/>_Os produtores e consumidores existentes que estavam usando a enumeração ADDED para representar viagens duplicadas devem seguir o [guia de migração](https://github.com/google/transit/blob/master/gtfs-realtime/spec/en/examples/migration-duplicated.md) para a transição para a enumeração DUPLICADO._ |

## _mensagem_ VehicleDescriptor

Informações de identificação para o veículo que realiza a viagem.

**Campos**

| _**Nome do campo**_  | _**Tipo**_                                                                | _**Obrigatório**_ | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                     |
| -------------------- | ------------------------------------------------------------------------- | ----------------- | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **id**               | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Opcional          | Um                  | Identificação do sistema interno do veículo. Deve ser **único** por veículo, e é usado para rastrear o veículo à medida que este avança pelo sistema. Esta identificação não deve ser tornada visível para o usuário final; para este fim, use o **etiqueta** campo |
| **etiqueta**         | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Opcional          | Um                  | Etiqueta visível do usuário, ou seja, algo que deve ser mostrado ao passageiro para ajudar a identificar o veículo correto.                                                                                                                                         |
| **placa_de_licença** | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Opcional          | Um                  | A placa de identificação do veículo.                                                                                                                                                                                                                                |

## _mensagem_ EntitySelector

Um seletor para uma entidade em um feed GTFS. Os valores dos campos devem corresponder aos campos apropriados no feed do GTFS. Pelo menos um especificador deve ser fornecido. Se forem dados vários, eles devem ser interpretados como sendo unidos pelo operador lógico `AND`. Além disso, a combinação de especificadores deve corresponder às informações correspondentes na alimentação GTFS. Em outras palavras, para que um alerta seja aplicado a uma entidade no GTFS, ele deve corresponder a todos os campos do EntitySelector fornecidos. Por exemplo, um EntitySelector que inclua os campos `route_id`: "5" e o `tipo route_type: "3` " se aplica somente ao `route_id`: ônibus " `5` " - não se aplica a nenhuma outra rota do `tipo route`\_id: `"3`". Se um produtor quiser que um alerta seja aplicado ao `route_id`: " `5` ", bem como o `tipo_de_roteiro:`" `3"`, ele deve fornecer dois EntitySelectors separados, um referenciando `route_id`: " `5"` e outro `tipo de rota` de referência `:` `"3`".

Pelo menos um especificador deve ser fornecido - todos os campos em um EntitySelector não podem estar vazios.

**Campos**

| _**Nome do campo**_ | _**Tipo**_                                                                 | _**Obrigatório**_           | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                                                                                |
| ------------------- | -------------------------------------------------------------------------- | --------------------------- | ------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **agency_id**       | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Condicionalmente necessário | Um                  | A agency_id da alimentação GTFS a que este seletor se refere.                                                                                                                                                                                                                                                                                                                                                  |
| **route_id**        | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Condicionalmente necessário | Um                  | O route_id do GTFS a que este seletor se refere. Se o direction_id for fornecido, o route_id também deve ser fornecido.                                                                                                                                                                                                                                                                                        |
| **tipo_de_via**     | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Condicionalmente necessário | Um                  | O route_id do GTFS a que este seletor se refere.                                                                                                                                                                                                                                                                                                                                                               |
| **direção_id**      | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Condicionalmente necessário | Um                  | O direction_id do arquivo GTFS feed trips.txt, usado para selecionar todas as viagens em uma direção para uma rota, especificada pelo route_id. Se o direction_id for fornecido, o route_id também deve ser fornecido. <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.<br/>                                              |
| **viagem**          | [TripDescriptor](#message-tripdescriptor)                                  | Condicionalmente necessário | Um                  | A instância da viagem do GTFS a que este seletor se refere. Este TripDescriptor deve resolver para uma única instância de viagem nos dados do GTFS (por exemplo, um produtor não pode fornecer apenas um trip_id para trip_id exatas = 0 viagens). Se o campo ScheduleRelationship for preenchido dentro deste TripDescriptor, ele será ignorado pelos consumidores quando tentarem identificar a viagem GTFS. |
| **stop_id**         | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Condicionalmente necessário | Um                  | O stop_id da alimentação GTFS a que este seletor se refere.                                                                                                                                                                                                                                                                                                                                                    |

## _mensagem_ TranslatedString

Uma mensagem internacionalizada contendo versões por idioma de um trecho de texto ou uma URL. Uma das cordas de uma mensagem será capturada. A resolução procede da seguinte forma: Se o language da IU corresponder ao código do language de uma tradução, a primeira tradução correspondente será escolhida. Se um language padrão da IU (por exemplo, inglês) corresponder ao código do language de uma tradução, a primeira tradução correspondente será escolhida. Se alguma tradução tiver um código de language não especificado, essa tradução é escolhida.

**Campos**

| _**Nome do campo**_ | _**Tipo**_                       | _**Obrigatório**_ | _**Cardinalidade**_ | _**Descrição**_                             |
| ------------------- | -------------------------------- | ----------------- | ------------------- | ------------------------------------------- |
| **tradução**        | [Tradução](#message-translation) | Obrigatório       | Muitos              | Pelo menos uma tradução deve ser fornecida. |

## tradução de_mensagens_

Uma corda localizada mapeada para um language.

| _**Nome do campo**_ | _**Tipo**_                                                                | _**Obrigatório**_           | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                           |
| ------------------- | ------------------------------------------------------------------------- | --------------------------- | ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **texto**           | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Obrigatório                 | Um                  | Uma cadeia de caracteres UTF-8 contendo a mensagem.                                                                                                                                                                                                                                       |
| **language**        | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Condicionalmente necessário | Um                  | Código de language BCP-47. Pode ser omitido se o language for desconhecido ou se não for feita nenhuma internacionalização para a alimentação. No máximo uma tradução pode ter uma etiqueta de language não especificada - se houver mais de uma tradução, o language deve ser fornecido. |

## _mensagem_ TraduzidaImagem

Uma mensagem internacionalizada contendo versões por idioma de uma imagem. Uma das imagens de uma mensagem será capturada. A resolução prossegue como a seguir: Se o language da IU corresponder ao código do language de uma tradução, a primeira tradução correspondente será escolhida. Se um language padrão da IU (por exemplo, inglês) corresponder ao código do language de uma tradução, a primeira tradução correspondente será escolhida. Se alguma tradução tiver um código de language não especificado, essa tradução é escolhida.

**Cuidado:** esta mensagem ainda é **experimental**, e está sujeita a mudanças. Ela pode ser adotada formalmente no futuro.

**Campos**

| _**Nome do campo**_   | _**Tipo**_                                | _**Obrigatório**_ | _**Cardinalidade**_ | _**Descrição**_                                      |
| --------------------- | ----------------------------------------- | ----------------- | ------------------- | ---------------------------------------------------- |
| **imagem_localizada** | [LocalizedImage](#message-localizedimage) | Obrigatório       | Muitos              | Pelo menos uma imagem localizada deve ser fornecida. |

## _mensagem_ LocalizedImage

Uma URL de imagem localizada mapeada para um language.

| _**Nome do campo**_ | _**Tipo**_                                                                | _**Obrigatório**_           | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ------------------- | ------------------------------------------------------------------------- | --------------------------- | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **url**             | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Obrigatório                 | Um                  | Corda contendo um link URL para uma imagem. A imagem vinculada deve ter menos de 2MB. Se uma imagem mudar de forma significativa o suficiente para que seja necessária uma atualização do lado do consumidor, o produtor deve atualizar a URL para uma nova.<br/><br/> A URL deve ser uma URL totalmente qualificada que inclua http:// ou https://, e quaisquer caracteres especiais na URL devem ser corretamente gravados. Veja o seguinte [https://www.w3.org/Addressing/URL/4_URI_Recommentations.html para](https://www.w3.org/Addressing/URL/4_URI_Recommentations.html for) uma descrição de como criar valores de URL totalmente qualificados. |
| **tipo_mídia**      | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Obrigatório                 | Um                  | Tipo de mídia IANA como para especificar o tipo de imagem a ser exibida. O tipo deve começar com "image/".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **language**        | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Condicionalmente necessário | Um                  | Código de language BCP-47. Pode ser omitido se o language for desconhecido ou se não for feita nenhuma internacionalização para a alimentação. No máximo uma tradução pode ter uma etiqueta de language não especificada - se houver mais de uma tradução, o language deve ser fornecido.                                                                                                                                                                                                                                                                                                                                                               |

## forma da_mensagem_

Descreve o caminho físico que um veículo toma quando a forma não faz parte do GTFS(CSV), tal como para um desvio ad-hoc. As formas pertencem a Trips e consistem em uma polilinha codificada para uma transmissão mais eficiente. As formas não precisam interceptar exatamente a localização das Paradas, mas todas as Paradas em uma viagem devem ficar a uma pequena distância da forma para essa viagem, ou seja, perto dos segmentos de linha reta que conectam os pontos de forma.

Cuidado**:** esta mensagem ainda é **experimental**, e está sujeita a mudanças. Ela pode ser adotada formalmente no futuro.<br/>.

**Campos**

| _**Nome do campo**_     | _**Tipo**_                                                                | _**Obrigatório**_ | _**Cardinalidade**_ | _**Descrição**_                                                                                                                                                                                                                                                                                                                                                                         |
| ----------------------- | ------------------------------------------------------------------------- | ----------------- | ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **shape_id**            | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Obrigatório       | Um                  | Identificador da forma. Deve ser diferente de qualquer `shape_id` definido no (CSV) GTFS. <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro.                                                                                                                                                         |
| **codificada_polyline** | [corda](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Obrigatório       | Um                  | Representação codificada da forma em polilinha. Esta polilinha deve conter pelo menos dois pontos. Para mais informações sobre as polilinhas codificadas, consulte <https://developers.google.com/maps/documentation/utilities/polylinealgorithm> <br/><br/>**Cuidado: Cuidado:** este campo ainda é **experimental**e está sujeita a mudanças. Pode ser adotado formalmente no futuro. |
