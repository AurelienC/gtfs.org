# GTFS Realtimeリファレンス

GTFS Realtimeフィードにより、交通機関は消費者にサービスの中断（駅の閉鎖、路線の運休、重要な遅延など）、車両の位置、到着予定時刻などの情報をRealtime提供することができます。

フィードの仕様のバージョン2.0については、このサイトで説明し、文書化されています。有効なバージョンは "2.0", "1.0 "です。

### 用語の定義

#### 必須

GTFS v2.0以降では、_Required_カラムは、トランジットデータが有効であり、消費するアプリケーションにとって意味をなすために、生産者が提供しなければならないフィールドを記述しています。

_Required_欄には、以下の値が使用される。

*   Required（**必須**）。このフィールドは、GTFS フィードのプロデューサが提供しなければならない。
*   **条件付きで必須**。このフィールドは特定の条件下で必須であり、その概要はフィールドの_説明に_記載されている。これらの条件以外では、このフィールドは任意である。
*   **オプション**。このフィールドはオプションであり、制作者が実装する必要はない。しかし、もしデータが基礎となる自動車両位置情報システム（例えば、VehiclePosition`timestamp`）で利用可能であれば、製作者は可能な限りこれらのオプションフィールドを提供することが推奨される。

_なお、GTFSバージョン1.0ではセマンティック要件が定義されていないため、`gtfs_realtime_version が` `1の`フィードはこの要件を満たさない可能性がある（詳細は[セマンティック要件に関する提案書を](https://github.com/google/transit/pull/64)_参照されたい）。

#### カーディナリティ

_Cardinalityは_、特定のフィールドに提供できる要素の数を表し、以下の値がある。

*   **One**- このフィールドには、1つの要素を指定することができる。これは[プロトコルバッファの_必須(Required)_および_オプション(Optional)の_](https://developers.google.com/protocol-buffers/docs/proto#simple)カーディナリティに対応する。
*   **Many**- このフィールドには、多くの要素(0、1、またはそれ以上)を指定することができる。これは、プロトコルバッファの[ _繰り返し_](https://developers.google.com/protocol-buffers/docs/proto#simple)カーディナリティにマッピングされる。

フィールドが必須、条件付き必須、オプションのいずれであるかを確認するには、常に_Required_および_Description_フィールドを参照すること。プロトコルバッファのカーディナリティについては、[GTFS-Realtime/proto/GTFS-Realtime.proto">`GTFS`](<https://github.com/google/transit/blob/master/\<glossary variable=>).proto を参照すること。

#### プロトコルバッファーデータタイプ

以下のプロトコルバッファのデータ型は、フィードエレメントを記述するために使用されます。

*   **メッセージ**複合型
*   **enum**。固定値のリスト

#### 実験的なフィールド

**experimentalと**ラベル付けされたフィールドは、変更の可能性があり、まだ仕様に正式に採用されていない。**実験的な**フィールドは、将来的に正式に採用される可能性がある。

## 要素インデックス

*   [フィードメッセージ（FeedMessage](#message-feedmessage)
    *   [フィードヘッダ](#message-feedheader)

        *   [インクリメンタル](#enum-incrementality)

    *   [フィードエンティティ](#message-feedentity)

        *   [TripUpdate](#message-tripupdate)

            *   [TripDescriptor](#message-tripdescriptor)

                *   [ScheduleRelationship](#enum-schedulerelationship-1)

            *   [車両記述子（VehicleDescriptor](#message-vehicledescriptor)

            *   [停止時間更新](#message-stoptimeupdate)

                *   [StopTimeEvent](#message-stoptimeevent)
                *   [スケジュール関係](#enum-schedulerelationship)
                *   [ストップタイムプロパティ](#message-stoptimeproperties)

            *   [トリッププロパティ](#message-tripproperties)

        *   [車両位置](#message-vehicleposition)

            *   [TripDescriptor](#message-tripdescriptor)

                *   [スケジュール関係](#enum-schedulerelationship-1)

            *   [車両記述子](#message-vehicledescriptor)

            *   [位置情報](#message-position)

            *   [車両停止状態](#enum-vehiclestopstatus)

            *   [混雑度](#enum-congestionlevel)

            *   [占有状況](#enum-occupancystatus)

            *   [車両詳細](#message-carriagedetails)

        *   [アラート](#message-alert)

            *   [時間範囲](#message-timerange)

            *   [エンティティ セレクタ](#message-entityselector)

                *   [TripDescriptor](#message-tripdescriptor)

                    *   [スケジュール関係](#enum-schedulerelationship-1)

            *   [原因](#enum-cause)

            *   [効果](#enum-effect)

            *   [翻訳済み文字列](#message-translatedstring)

                *   [翻訳](#message-translation)

            *   [深刻度レベル（SeverityLevel](#enum-severitylevel)

## 要素

## _message_FeedMessage

フィードメッセージの内容。ストリーム内の各メッセージは、適切な HTTP GET リクエストに対する応答として取得されます。Realtimeフィードは、常に既存のGTFSフィードに関連して定義されます。すべてのエンティティIDは、GTFSフィードを基準として解決されます。

**フィールド**

| _**フィールド名**_ | _**タイプ**_                         | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                        |
| ------------ | --------------------------------- | -------- | -------------- | --------------------------------------------------------------------------------------------------------------- |
| **ヘッダー**     | [フィードヘッダ](#message-feedheader)    | 必須       | 一人             | このフィードとフィードメッセージに関するメタデータ。                                                                                      |
| **エンティティ**   | [フィードエンティティ](#message-feedentity) | 条件付きで必須  | 多数             | フィードの内容。  輸送システムで利用可能なリアルタイム情報がある場合、このフィールドは提供されなければならない。  このフィールドが空の場合、消費者はそのシステムで利用可能なリアルタイム情報がないものと考えるべきである。 |

## _メッセージ_FeedHeader

フィードに関するメタデータで、フィードメッセージに含まれる。

**フィールド**

| _**フィールド名**_              | _**タイプ**_                                                                  | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                               |
| ------------------------- | -------------------------------------------------------------------------- | -------- | -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **gtfs_realtime_version** | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)    | 必須       | 一人             | フィードの仕様のバージョン。現在のバージョンは2.0です。                                                                                                                                                                                          |
| **インクリメンタル**              | [インクリメンタル](#enum-incrementality)                                           | 必須       | 一人             |                                                                                                                                                                                                                        |
| **タイムスタンプ**               | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 必須       | 一人             | このタイムスタンプは、このフィードのコンテンツが作成された時点 (サーバ時間) を表すものです。POSIX 時間 (1970 年 1 月 1 日 00:00:00 UTC 以降の秒数) で指定します。Realtime情報を生成・消費するシステム間の時間のずれを避けるために、タイムスタンプはタイムサーバから取得することを強くお勧めします。Stratum 3やそれ以下の階層のサーバーを使用しても、数秒の時差は許容されるからです。 |

## _enum_Incrementality

現在のフェッチがインクリメンタルであるかどうかを決定する。

*   **FULL_DATASET**: このフィードの更新は、そのフィードの以前のRealtime情報をすべて上書きする。したがって、この更新では既知のすべてのRealtime情報の完全なスナップショットを提供することが期待されます。
*   **DIFFERENTIAL**: 現在、このモードは**サポートされて**おらず、このモードを使用するフィードの動作は**指定されて**いません。[GTFS-realtime">GTFS Realtime](<https://groups.google.com/group/\<glossary variable=>)メーリングリストでは、DIFFERENTIAL モードの挙動について議論されており、その議論がまとまった時点でドキュメントが更新される予定です。

**値**

| _**値**_              |
| -------------------- |
| **FULL_DATASET**     |
| **差分(DIFFERENTIAL)** |

## _メッセージ_FeedEntity

トランジットフィードにおけるエンティティの定義(または更新)。エンティティが削除されない場合は、 'trip_update', 'vehicle', 'alert', 'shape' フィールドのうち、ちょうど1つが入力されなければならない。

**フィールド**

| _**フィールド名**_    | _**タイプ**_                                                                | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                        |
| --------------- | ------------------------------------------------------------------------ | -------- | -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **id**          | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | 必須       | 一人             | このエンティティのフィード固有の識別子。この ID は、インクリメンタルなサポートを提供するためにのみ使用されます。フィードから参照される実際のエンティティは、 明示的なセレクタで指定する必要があります (詳細については、以下の EntitySelector を参照ください)。                                                                     |
| **is_deleted**  | [ブール値](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | このエンティティが削除されるかどうか。Incrementality が DIFFERENTIAL のフィードに対してのみ提供されるべきです - このフィールドは Incrementality が FULL_DATASET のフィードには提供されるべきではありません。                                                                           |
| **trip_update** | [TripUpdate](#message-tripupdate)                                        | 条件付きで必須  | 一人             | トリップのRealtime出発遅延に関するデータ。  trip_update、vehicle、alert、shapeのフィールドのうち、少なくとも1つは提供されなければならない - これらすべてのフィールドを空にすることはできない。                                                                                            |
| **車両**          | [車両位置](#message-vehicleposition)                                         | 条件付きで必須  | 一人             | 車両のRealtime位置に関するデータ。trip_update、vehicle、alert、shapeのうち、少なくとも1つのフィールドを指定する必要があります - これらすべてのフィールドを空にすることはできません。                                                                                                  |
| **アラート**        | [注意事項](#message-alert)                                                   | 条件付きで必須  | 一人             | Realtimeデータ。trip_update、vehicle、alert、shapeのうち、少なくとも1つのフィールドを指定する必要があります - これらすべてのフィールドを空にすることはできません。                                                                                                           |
| **shape**       | [形状](#message-shape)                                                     | 条件付きで必須  | 一人             | 迂回路など、Realtime追加される形状に関するデータ。trip_update、vehicle、alert、shapeの少なくとも1つのフィールドを指定する必要があり、これらすべてのフィールドを空にすることはできません。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。 |

## _メッセージ_TripUpdate

トリップ中の車両の進行状況をRealtime表示します。[Realtime/trip-updates">トリップアップデートエンティティの](</\<glossary variable=>)一般的な議論も参照してください。

ScheduleRelationshipの値に応じて、TripUpdateは指定することができる。

*   Schedule に沿って進行するトリップ。
*   Schedule進行するトリップ。
*   Schedule追加または削除されたトリップ。
*   静的なGTFSある既存のトリップをコピーした新しいトリップ。TripPropertiesで指定された運行日時に運行されます。

更新は、将来予測される到着/出発イベント、またはすでに発生した過去のイベントに対して行うことができます。多くの場合、過去のイベントに関する情報は測定値であるため、その不確実性の値は0であることが推奨されます。しかし、そうでない場合もあるため、過去のイベントの不確実性の値が0と異なることは許容されます。更新の不確実性が0でない場合、その更新は完了していない旅行に対するおおよその予測であるか、測定が正確でないか、またはイベント発生後に検証されていない過去の予測であるかのいずれかである。

車両が同じブロック内で複数のトリップに対応している場合（トリップとブロックの詳細については、[Schedule/reference/#tripstxt">GTFS trips.txt](</\<glossary variable=>)参照してください）。

*   フィードには、その車両が現在担当しているトリップの TripUpdate を含める必要があります。生産者は、この車両ブロックの現在のトリップの後に、1つ以上のトリップのTripUpdateを含めることが推奨されます（生産者が将来のトリップの予測の品質に自信を持っている場合）。同じ車両に複数のTripUpdateを含めることで、車両がある旅行から別の旅行に移行する際に、利用者が予測を「ポップイン」することを回避できます。また、利用者は、下流の旅行に影響を与える遅延を事前に知ることができます（例：既知の遅延が旅行間の計画待ち時間を超えた場合など）。
*   の場合、それぞれのTripUpdateエンティティは、ブロック内でスケジュールされているのと同じ順序でフィードに追加される必要はない。たとえば、`trip_id が`1、2、3 で、すべて 1 つのブロックに属するトリップがあり、車両がトリップ 1、トリップ 2、トリップ 3 の順に移動する場合、`trip_update`エンティティは任意の順序で表示することができる。たとえば、トリップ 2、トリップ 1、トリップ 3 と追加しても構わない。

このためには、旅行の最終目的地の更新を提供すれば十分である。最終目的地への到着時刻が過去であれば、クライアントは旅行全体が過去であると判断する(重要ではないが、以前の目的地の更新も提供することが可能である)。このオプションは、Schedule早く完了したトリップに最も関連性があるが、Scheduleよると、トリップは現在の時刻でも進行中である。このトリップの更新を削除すると、クライアントは、トリップがまだ進行していると見なす可能性がある。フィードプロバイダーは過去の更新を削除することができるが、必須ではないことに注意。

**フィールド**

| _**フィールド名**_      | _**タイプ**_                                                                  | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ----------------- | -------------------------------------------------------------------------- | -------- | -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **トリップ**          | [TripDescriptor](#message-tripdescriptor)                                  | 必須       | 一人             | このメッセージが適用されるトリップ。実際のトリップインスタンスごとに最大1つのTripUpdateエンティティが存在することができる。1 つもない場合は、利用可能な予測情報がないことを意味します。しかし _ない_トリップがSchedule に従って進行していることを意味する。                                                                                                                                                                                                                                                                                                                                       |
| **車両**            | [VehicleDescriptor](#message-vehicledescriptor)                            | 任意       | 一人             | このトリップにサービスを提供している車両に関する追加情報。                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **ストップタイムアップデート** | [StopTimeUpdate](#message-stoptimeupdate)                                  | 条件付きで必須  | 多数             | トリップのStopTimeの更新（未来、つまり予測、場合によっては過去、つまりすでに起こったものの両方がある）。更新はstop_sequenceソートされ、次に指定されたstop_time_updateまでのトリップのすべての次の停留所に適用される必要がある。  trip.schedule_relationshipがCANCELEDまたはDUPLICATEDでない限り、少なくとも1つのstop_time_updateを提供する必要があります - 旅行がキャンセルされた場合、stop_time_updateは提供する必要はない。トリップが重複している場合、新しいトリップのリアルタイム情報を示すためにstop_time_updatesが提供されるかもしれません。                                                                                                                                    |
| **タイムスタンプ**       | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | 将来のStopTimeを推定するために、車両のリアルタイムの進捗を測定した直近の瞬間。過去の StopTimes が提供される場合、到着/出発時刻はこの値より早いかもしれない。POSIX時間（すなわち、1970年1月1日0時0分0秒UTCからの秒数）。                                                                                                                                                                                                                                                                                                                                                   |
| **遅延**            | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | 任意       | 一人             | トリップの現在のSchedule偏差。遅延は、GTFS既存のSchedule比較して予測される場合にのみ指定される必要がある。<br/>遅延（秒）は、正（車両が遅れていることを意味する）または負（車両がSchedule進んでいることを意味する）であることができる。遅延が0であれば、その車両が時間通りに運行されていることを意味する。<br/>StopTimeUpdateの遅延情報は、トリップレベルの遅延情報よりも優先され、トリップレベルの遅延は、StopTimeUpdate遅延値が指定されたトリップに沿って次の停車駅までしか伝搬されないようになっています。<br/>フィード・プロバイダーは、データの鮮度を評価するために、遅延値が最後に更新された日時を示す TripUpdate.timestamp 値を提供することが強く推奨される。<br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。 |
| **トリッププロパティ**     | [トリッププロパティ](#message-tripproperties)                                       | 任意       | 一人             | トリップの更新されたプロパティを提供します。 <br/><br/>**注意**このメッセージはまだ **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                                                                                                                                                                                                                                                                                                                    |

## _メッセージ_StopTimeEvent

単一の予測されたイベント（到着または出発のいずれか）のためのタイミング情報。タイミングは、遅延と推定時間、および不確実性からなる。

*   delayは、GTFS既存のSchedule比較して予測する場合に使用される。
*   time は、予測されるScheduleあるなしに関わらず指定される。timeとdelayの両方が指定された場合、timeが優先されます(ただし、通常、timeは予定されている旅行に対して指定された場合、GTFS予定時間＋delayに等しくなければなりません。)。

不確かさは、時間と遅延の両方に等しく適用されます。不確かさは、おおよそ真の遅延の予想誤差を指定します（ただし、その正確な統計的意味はまだ定義されていません）。例えば、コンピュータのタイミング制御の下で運転される列車では、不確かさが0になることもあり得ます。

**フィールド**

| _**フィールド名**_ | _**タイプ**_                                                                 | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                         |
| ------------ | ------------------------------------------------------------------------- | -------- | -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **遅延**       | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 条件付きで必須  | 一人             | 遅延（秒）は、正の値（車両が遅れていることを意味する）または負の値（車両がSchedule早く進んでいることを意味する）となる。遅延が0であれば、その車両が時間通りに運行されていることを意味する。  遅延または時間のいずれかをStopTimeEvent内で指定する必要があり、両方のフィールドを空にすることはできません。 |
| **時間**       | [int64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 条件付きで必須  | 一人             | 絶対時間としてのイベント。POSIX時間（すなわち、1970年1月1日午前0時00分00秒UTCからの秒数）。遅延または時間のいずれかが StopTimeEvent 内で提供されなければならない - 両フィールドを空にすることはできない。                                          |
| **不確実性**     | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | uncertaintyが省略された場合、unknownとして解釈されます。完全に確実な予測を指定するには、その不確実性を0に設定します。                                                                                             |

## _メッセージ_StopTimeUpdate

トリップの所定の停留所の到着および／または出発イベントに関するRealtime更新。[TripDescriptor](#message-tripdescriptor)および[Realtime/trip-updates">trip updatesエンティティの](</\<glossary variable=>)ドキュメントにある停車時間更新の一般的な説明も参照してください。

更新は、過去と未来のイベントの両方について供給することができる。プロデューサは、必須ではありませんが、過去のイベントを削除することができます。

更新はstop_sequenceまたはstop_id特定のストップにリンクされるので、これらのフィールドのいずれかが必ず設定されなければならない。 同じstop_idを 1 つの旅行で複数回訪れる場合は、その旅行でそのstop_idのすべての StopTimeUpdate でstop_sequenceが提供される必要があります。

**フィールド**

| _**フィールド名**_      | _**タイプ**_                                                                  | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                                                                                                                                               |
| ----------------- | -------------------------------------------------------------------------- | -------- | -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **stop_sequence** | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 条件付きで必須  | 一人             | 対応するGTFSフィードのstop_times.txt同じである必要があります。  StopTimeUpdateでは、stop_sequence stop_idどちらかを指定する必要があります。stop_sequence、同じstop_id2回以上訪れるトリップ（例：ループ）に対して必要となり、予測の対象がどのストップであるかを曖昧にすることができます。もし `StopTimeProperties.assigned_stop_id`が入力されている場合は `stop_sequence`は入力されていなければならない。                                                                  |
| **stop_id**       | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)    | 条件付きで必須  | 一人             | 対応するGTFSフィードのstops.txt同じである必要があります。StopTimeUpdate では、stop_sequenceとstop_idのどちらかを指定する必要があり、両方のフィールドを空にすることはできません。もし `StopTimeProperties.assigned_stop_id`が入力されている場合は、省略することが推奨されます。 `stop_id`のみを使用します。 `stop_sequence`.もし `StopTimeProperties.assigned_stop_id`そして `stop_id`が入力されている場合は、省略し `stop_id`と一致しなければなりません。 `assigned_stop_id`. |
| **到着**            | [ストップタイムイベント（StopTimeEvent](#message-stoptimeevent)                        | 条件付きで必須  | 一人             | schedule_relationshipが空またはSCHEDULEDの場合、到着または出発のどちらかをStopTimeUpdate内で指定する必要があります - 両フィールドを空にすることはできません。schedule_relationshipがSKIPPEDの場合、到着と出発の両方を空にすることができます。  schedule_relationshipがNO_DATAの場合、arrivalとdepartureは空でなければなりません。                                                                                                          |
| **出発**            | [ストップタイムイベント（StopTimeEvent](#message-stoptimeevent)                        | 条件付きで必須  | 一人             | schedule_relationshipが空またはSCHEDULEDの場合、到着または出発のどちらかをStopTimeUpdate内で指定する必要があります - 両フィールドを空にすることはできません。schedule_relationshipがSKIPPEDの場合、到着と出発の両方を空にすることができます。  schedule_relationshipがNO_DATAの場合、arrivalとdepartureは空でなければなりません。                                                                                                          |
| **出発時の占有状況**      | [入居状況](#enum-occupancystatus)                                              | 任意       | 一人             | 指定された停留所から出発した直後の車両の予測される乗客の占有状況。提供する場合、stop_sequenceを指定する必要がある。リアルタイムの到着または出発予測を提供せずに departure_occupancy_status を提供するには、このフィールドを入力し、 StopTimeUpdate.schedule_relationship = NO_DATA と設定します。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                          |
| **スケジュール関係**      | [スケジュール関係](#enum-schedulerelationship)                                     | 任意       | 一人             | デフォルトの関係はSCHEDULEDです。                                                                                                                                                                                                                                                                                                                  |
| **ストップタイムプロパティ**  | [ストップタイムプロパティ](#message-stoptimeproperties)                                | 任意       | 一人             | GTFS stop_times.txt内で定義された特定のプロパティに対するRealtime更新。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                                                                                                                                      |

## _enum_ScheduleRelationship

このStopTimeと静的なSchedule関係。

**値**

| _**値**_                    | _**コメント**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| -------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **スケジュール済み**               | 車両は静的な停車Schedule進行しているが、必ずしもSchedule時間通りに進行している必要はない。これは **デフォルト**の動作である。到着と出発の少なくとも一方を記載する必要がある。頻度ベースのトリップGTFS frequencies.txtで exact_times = 0）は SCHEDULED 値を持たず、UNSCHEDULED を用いるべきである。                                                                                                                                                                                                                                                                                                |
| **SKIPPED**                | この停留所はスキップされる、すなわち、車両はこの停留所には停車しない。到着と出発は任意である。設定された場合 `SKIPPED`が設定されると、同じトリップ内の後続の停留所には伝搬されない(つまり、そのトリップ内の後続の停留所でも、その停留所に `stop_time_update`と `schedule_relationship: SKIPPED`).トリップ内の前の停留所からの遅延 _は行う_を越えて伝搬する。 `SKIPPED`に伝播する。言い換えれば、もし `stop_time_update`を持つ `arrival`または `departure`が設定されていない場合、その停留所より上流の予測は `SKIPPED`の上流にある予測は `SKIPPED`が設定されていない場合、その上流の予測は、その停車駅の後の停車駅に伝搬されます。 `SKIPPED`が設定されるまで、その停留所以降の停留所に伝搬される。 `stop_time_update`が設定されるまで、その停車駅の上流にある予測は、その停車駅の次の停車駅に伝播します。 |
| **NO_DATA**                | この停車駅のデータはありません。これは、Realtimeタイミング情報がないことを示す。NO_DATA を設定すると、後続の停留所に伝搬されるので、どの停留所からRealtimeタイミング情報がないかを指定するのに推奨される方法である。NO_DATA を設定した場合、到着と出発のどちらも指定してはならない。                                                                                                                                                                                                                                                                                                                               |
| **UNSCHEDULED（アンシュードゥルード** | 車両は周波数ベースのトリップGTFS frequencies.txtで exact_times = 0)で運行中である。GTFS frequencies.txt で定義されていないトリップや、GTFS frequencies.txttxt で exact_times = 1 のトリップには、この値を使用してはならない。を含むトリップ `stop_time_updates`と `schedule_relationship: UNSCHEDULED`は、TripDescriptor も設定する必要があります。 `schedule_relationship: UNSCHEDULED` <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                                     |

## _メッセージ_StopTimeProperties

GTFS stop_times.txt内で定義された特定のプロパティに対するRealtime更新。

**注意：**このメッセージはまだ**実験的な**ものであり、変更される可能性がある。将来、正式に採用される可能性がある。<br/>

**フィールド**

| _**フィールド名**_         | _**タイプ**_                                                               | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| -------------------- | ----------------------------------------------------------------------- | -------- | -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **assigned_stop_id** | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | リアルタイムの停止位置の割り当てをサポートします。を指す。 `stop_id`GTFSで定義されている `stops.txt`. <br/>新しい `assigned_stop_id`は、エンドユーザーの旅行体験を大きく変えるものであってはならない。 `stop_id`を含むトリップは、GTFSで定義されている `stop_times.txt`.言い換えれば、エンドユーザはこの新し `stop_id`新しい停留所が追加のコンテキストなしにアプリ内で提示された場合、"異常な変更 "と見なされる。例えば、このフィールドは、プラットフォーム割り当てのために、次のようなものを使用することを意図している。 `stop_id`は，もともとGTFS定義された停留所と同じ駅に属するものでなければなりません． `stop_times.txt`. <br/>リアルタイムの到着または出発の予測を提供せずに停留所を割り当てるには、このフィールドに値を入力し、次のように設定します。 `StopTimeUpdate.schedule_relationship = NO_DATA`. <br/>このフィールドが入力されている場合 `StopTimeUpdate.stop_sequence`は必ず入力し `StopTimeUpdate.stop_id`は入力してはならない。停車駅の割り当ては、他のGTFSフィールドにも反映されるべきである（例． `VehiclePosition.stop_id`). <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。 |

## _メッセージ_TripProperties

トリップの更新されたプロパティを定義する

注意**：**このメッセージはまだ**実験的な**ものであり、変更される可能性があります。将来、正式に採用される可能性があります。<br/>.

**フィールド**

| _**フィールド名**_   | _**タイプ**_                                                               | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| -------------- | ----------------------------------------------------------------------- | -------- | -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **trip_id**    | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 条件付きで必須  | 一人             | (CSV)GTFS trips.txt定義された既存のトリップと重複するが、異なる運行日および時間(start_dateで定義)で開始する新しいトリップの識別子を定義する。 `TripProperties.start_date`そして `TripProperties.start_time`).の定義を参照。 `trips.trip_id`の定義を参照。この値は、(CSV)GTFS で使用されている値とは異なるものでなければならない。の場合、このフィールドは必須である。 `schedule_relationship`は `DUPLICATED`それ以外の場合、このフィールドは入力されてはならず、消費者によって無視されます。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **開始日**        | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 条件付きで必須  | 一人             | 複製されたトリップが実行されるサービス日。YYYYMMDD 形式で提供する必要があります。このフィールドは以下の場合に必要である。 `schedule_relationship`は `DUPLICATED`それ以外の場合、このフィールドは入力されてはならず、消費者によって無視されます。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **start_time** | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 条件付きで必須  | 一人             | トリップが複製される際の出発開始時刻を定義する。の定義を参照。 `stop_times.departure_time`(CSV)GTFS における定義を参照。複製されたトリップの到着予定時刻および出発予定時刻は、元のトリップとこのフィールドのオフセットに基づいて計算されます。 `departure_time`とこのフィールドのオフセットに基づいて計算されます。例えば、GTFSトリップの場合、停留所Aに `departure_time`の `10:00:00`で、停留所Bは `departure_time`の `10:01:00`という値が設定されている場合、複製されたトリップのBの到着時刻と出発時刻は、このフィールドの値に基づいて計算されます。 `10:30:00`という値が設定されている場合、複製されたトリップの停留所Bは、予定通り `departure_time`の `10:31:00`.リアルタイム予測 `delay`の値をこの算出されたSchedule時間に適用し、予測時間を決定する。例えば、停留所Bの出発時刻が `delay`の `30`が停留所Bについて提供されている場合、予測される出発時刻は `10:31:30`.リアルタイム予測 `time`の値は、オフセットが適用されず、提供された予測時刻を示す。  例えば、10:31:30を表す出発が提供された場合 `time`10:31:30 を表す出発が停留所 B に対して提供されている場合、予測される出発時刻は `10:31:30`.このフィールドは、以下の場合に必要である。 `schedule_relationship`は `DUPLICATED`それ以外の場合、このフィールドは入力されてはならず、消費者によって無視されます。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。 |
| **shape_id**   | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | このトリップの車両走行経路の形状が、オリジナルと異なる場合に指定する。(CSV)GTFSで定義された形状、またはリアルタイムフィードの新規形状エンティティを指す。の定義を参照。 `trips.shape_id`(CSV)GTFS に含まれる場合、このフィールドは必須です。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

## _メッセージ_VehiclePosition

指定された車両のRealtime測位情報。

**フィールド**

| _**フィールド名**_       | _**タイプ**_                                                                  | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                                                                                                                                                                                         |
| ------------------ | -------------------------------------------------------------------------- | -------- | -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **トリップ**           | [TripDescriptor](#message-tripdescriptor)                                  | 任意       | 一人             | この車両がサービスを提供しているトリップ。車両がトリップインスタンスで識別できない場合、空または部分的になることがある。                                                                                                                                                                                                                                                                                                                     |
| **車両**             | [VehicleDescriptor](#message-vehicledescriptor)                            | 任意       | 一人             | このトリップを提供している車両に関する追加情報。各エントリには **一意**車両ID。                                                                                                                                                                                                                                                                                                                                      |
| **位置**             | [位置情報](#message-position)                                                  | 任意       | 一人             | この車両の現在位置。                                                                                                                                                                                                                                                                                                                                                                       |
| **カレントストップシーケンス**  | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | 現在の停車駅の停車駅シーケンスインデックス。current_stop_sequence の意味（参照する停留所）は current_status によって決定される。current_status がない場合、IN_TRANSIT_TO と見なされる。                                                                                                                                                                                                                                                    |
| **stop_id**        | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)    | 任意       | 一人             | 現在の停車駅を特定する。対応するGTFSフィードのstops.txt同じ値である必要がある。もし `StopTimeProperties.assigned_stop_id`を割り当てるために使用される場合，このフィールドは `stop_id`を割り当てるために使用される場合、このフィールドは以下の変更も反映する必要がある。 `stop_id`.                                                                                                                                                                                                    |
| **current_status** | [車両停止状況](#enum-vehiclestopstatus)                                          | 任意       | 一人             | 現在の停車位置に関する車両の正確な状態。current_stop_sequence が存在しない場合は無視される。                                                                                                                                                                                                                                                                                                                        |
| **タイムスタンプ**        | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | 車両の位置が測定された瞬間。POSIX時間（1970年1月1日00:00:00 UTCからの秒数）。                                                                                                                                                                                                                                                                                                                               |
| **混雑度**            | [混雑度](#enum-congestionlevel)                                               | 任意       | 一人             |                                                                                                                                                                                                                                                                                                                                                                                  |
| **占有状況**           | [入居状況](#enum-occupancystatus)                                              | _任意_     | 一人             | 車両または車台の乗客の占有状態。multi_carriage_details にキャリッジごとの OccupancyStatus が設定されている場合、このフィールドは、乗客を受け入れているすべてのキャリッジを考慮した上で、車両全体を記述する必要がある。<br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                                                                                                   |
| **占有率**            | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | 車両の搭乗率を示すパーセンテージ値。値100は、座席と立席の両方を含む、車両が設計され、現行の運用規則で許容される最大乗員数の合計を表すべきである。設計上の最大定員を超える乗客がいる場合、値は100を超える可能性がある。occupancy_percentageの精度は、個々の乗客の乗降を追跡できない程度に低くする必要がある。multi_carriage_detailsにcarriage毎のoccupancy_percentageが入力されている場合、このフィールドは乗客を受け入れている全ての車両を考慮した上で、車両全体を記述する必要がある。<br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。 |
| **マルチキャリッジの詳細**    | [車両詳細](#message-CarriageDetails)                                           | 任意       | 多数             | この与えられた車両の複数のキャリッジの詳細。最初の出現は、その車両の最初のキャリッジを表す。 **現在の進行方向から見て**.multi_carriage_detailsフィールドの出現回数は、車両の台車の数を表す。また、機関車や保守用車両など、乗車できない車両も含まれる。これらは、乗客にプラットフォームのどこに立つべきかという貴重な情報を提供するからである。<br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                                             |

## _enum_VehicleStopStatus

**値**

| _**値**_           | _**コメント**_                                     |
| ----------------- | ---------------------------------------------- |
| **INCOMING_AT**   | 車両はちょうど停留所に到着するところである（停留所表示では、通常、車両シンボルが点滅する）。 |
| **STOPPED_AT**    | 車両が停車駅に停車中である。                                 |
| **IN_TRANSIT_TO** | 車両は前の停留所を出発し、通過中である。                           |

## _enum_CongestionLevel

この車両に影響を及ぼしている混雑度。

**値**

| _**値**_                      |
| ---------------------------- |
| **unknown_congestion_level** |
| **running_smoothly**         |
| **STOP_AND_GO**              |
| **CONGESTION**               |
| **深刻な混雑**                    |

## _enum OccupancyStatus_

車両またはキャリッジの乗客の占有状態。

個々の生産者は、すべてのOccupancyStatusの値を公開しないかもしれません。したがって、消費者は、OccupancyStatus の値が直線的な尺度に従うと仮定してはならない。消費者は、OccupancyStatus の値を、生産者が示し、意図した状態として表現すべきである。同様に、制作者は実際の車両占有状態に対応した OccupancyStatus 値を使用しなければならない。

リニアスケールでの乗客の占有レベルの記述については、`occupancy_percentage` を参照のこと。

注意**：**このフィールドはまだ実験**的**なものであり、変更される可能性がある。将来、正式に採用される可能性がある。

_**値**_

| _**値**_                       | _**コメント**_                                                                    |
| ----------------------------- | ----------------------------------------------------------------------------- |
| _**空（EMPTY**_                 | _この車両は、ほとんどの指標で空車とみなされ、乗客はほとんど、あるいは全く乗っていないが、まだ乗客を受け入れている。_                   |
| _**多座席**_                     | _この車両・台車には多くの空席がある。このカテゴリに入るのに十分な大きさとみなされる、利用可能な全座席のうちの自由席の量は、製作者の裁量で決定されます。_ |
| _**空席が少ない**_                  | _この車両・台車は、利用可能な座席数が少ない。このカテゴリーに該当するほど少ないとみなされる全座席のうち自由席の量は、製作者の裁量で決定されます。_    |
| _**スタンディング・ルーム・オンリー**_        | _現在、車両や客車は立っている乗客しか収容できない。_                                                   |
| _**クラッシュド・スタンディング・ルーム・オンリー**_ | _この車両または客車は、現在立っている乗客しか収容できず、そのためのスペースは限られています。_                              |
| _**フル**_                      | _この車両はほとんどの手段で満席と見なされますが、まだ乗客の搭乗を許可している可能性があります。_                             |
| _**乗客の受け入れ拒否**_               | _この車両またはキャリッジは乗客を受け入れていません。この車両またはキャリッジは通常、乗客の乗車を受け入れています。_                   |
| _**ノー・データ・エイブル**_             | _その車両またはキャリッジは、その時点で利用可能な搭乗率データを持っていません。_                                     |
| _**NOT_BOARDABLE**_           | _その車両や客車は乗車可能ではなく、乗客を受け入れることはない。特殊な車両やキャリッジ（エンジン、メンテナンス用キャリッジなど）の場合に有効。_      |

## _メッセージ_CarriageDetails

複数の客車で構成される車両に使用される、客車固有の詳細。

注意**：**このメッセージはまだ実験**的**なものであり、変更される可能性があります。将来、正式に採用される可能性があります。

**フィールド**

| _**フィールド名**_                    | _**タイプ**_                                                                  | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ------------------------------- | -------------------------------------------------------------------------- | -------- | -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **id**                          | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)    | 任意       | 一人             | キャリッジの識別。車両ごとにユニークであるべき。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                                                                                                                                                                                                                                                                                     |
| **ラベル**                         | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)    | 任意       | 一人             | 車両を識別するために乗客に表示される可能性のある、ユーザーが見えるラベル。例"7712"、"車両ABC-32 "など... <br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                                                                                                                                                                                                                                                     |
| **占有状況**                        | [入居状況](#enum-occupancystatus)                                              | 任意       | 一人             | この車両における、このキャリッジの占有状況。デフォルトは `NO_DATA_AVAILABLE`.<br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                                                                                                                                                                                                                                                             |
| **占有率**                         | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | 任意       | 一人             | この車両における、この車両の乗車率。VehiclePosition.occupancy_percentage "と同じルールに従う。このキャリッジのデータがない場合は、-1 を使用する。<br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                                                                                                                                                                                                                 |
| **carriage_sequence に設定されている。** | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 必須       | 一人             | CarriageStatus の車両リスト内の他の車両に対する、このキャリッジの順序を識別する。進行方向の最初のキャリッジは値 1 を持たなければならず、2 番目の値は進行方向の 2 番目のキャリッジに対応し、値 2 を持たなければならない、といった具合に。例えば、進行方向の1番目のキャリッジの値が1であり、進行方向の2番目のキャリッジの値が3である場合、消費者はすべてのキャリッジのデータ（すなわち、multi_carriage_detailsフィールド）を破棄する。データのない馬車は、有効な carriage_sequence 番号で表現されなければならず、データのないフィールドは省略されなければならない（代わりに、それらのフィールドを含めて「データなし」の値に設定することもできる）。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。 |

## _メッセージ_アラート

公共交通機関のネットワークで何らかのインシデントが発生したことを示すアラート。

**フィールド**

| _**フィールド名**_               | _**タイプ**_                                              | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                                                                                             |
| -------------------------- | ------------------------------------------------------ | -------- | -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **アクティブ期間**                | [時間範囲](#message-timerange)                             | 任意       | 多数             | アラートがユーザーに表示される時間。指定しない場合は、フィードに表示されている間、アラートが表示されます。複数の範囲を指定した場合、そのすべての範囲にアラートが表示されます。                                                                                                                                                                                              |
| **informed_entity**        | [エンティティセレクタ](#message-entityselector)                  | 必須       | 多数             | このアラートをユーザに通知すべきエンティティ。  少なくとも1つのinformed_entityを指定する必要があります。                                                                                                                                                                                                                        |
| **原因**                     | [原因](#enum-cause)                                      | 任意       | 一人             |                                                                                                                                                                                                                                                                                      |
| **効果**                     | [効果](#enum-effect)                                     | 任意       | 一人             |                                                                                                                                                                                                                                                                                      |
| **url**                    | [翻訳された文字列（TranslatedString](#message-translatedstring) | 任意       | 一人             | アラートに関する追加情報を提供するURL。                                                                                                                                                                                                                                                                |
| **header_text**            | [翻訳された文字列（TranslatedString](#message-translatedstring) | 必須       | 一人             | 警告のヘッダー。このプレーンテキスト文字列は、太字などで強調表示されます。                                                                                                                                                                                                                                                |
| **description_text**       | [翻訳された文字列（TranslatedString](#message-translatedstring) | 必須       | 一人             | 警告のための説明。このプレーンテキスト文字列は、アラートの本文としてフォーマットされます(または、ユーザーによる明示的な "展開 "リクエストで表示されます)。説明の情報は、ヘッダの情報に追加する必要があります。                                                                                                                                                                           |
| **tts_header_text**        | [翻訳された文字列（TranslatedString](#message-translatedstring) | 任意       | 一人             | 音声合成の実装に使用されるアラートのヘッダーを含むテキスト。このフィールドはheader_textの音声合成版です。header_textと同じ情報を含みますが、音声合成で読めるようにフォーマットされている必要があります（例えば、省略形の削除、数字のスペルアウトなど）。                                                                                                                                              |
| **tts_description_text**   | [翻訳された文字列（TranslatedString](#message-translatedstring) | 任意       | 一人             | 音声合成の実装に使用されるアラートの説明を含むテキスト。このフィールドは、description_text の音声合成バージョンである。description_text と同じ情報を含みますが、音声合成用にフォーマットされている必要があります (例: 省略形の削除、数字のスペルアウトなど)。                                                                                                                                   |
| **重要度レベル(severity_level)** | [SeverityLevel](#enum-severitylevel)                   | 任意       | 一人             | 警告の深刻度。                                                                                                                                                                                                                                                                              |
| **画像**                     | [翻訳された画像](#message-translatedimage)                    | 任意       | 一人             | アラートテキストに沿って表示されるTranslatedImage。迂回路、駅閉鎖などの警報効果を視覚的に説明するために使用する。画像は警報の理解を深めるものでなければならず、重要な情報の唯一の場所であってはならない。以下のタイプの画像は推奨されない：主にテキストを含む画像、マーケティング用またはブランド用の画像で、追加的な情報を提供しないもの。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。        |
| **画像代替テキスト**               | [翻訳された文字列（TranslatedString](#message-translatedstring) | 任意       | 一人             | リンクされた画像の外観を説明するテキスト。 `image`フィールドにリンクされた画像の外観を説明するテキスト（例：アクセシビリティ上の理由で画像を表示できない場合、またはユーザーが画像を見ることができない場合など）。alt画像テキストについては、HTML [の仕様を参照してください。](https://html.spec.whatwg.org/#alt). <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。 |

## _enum_Cause

この警告の原因。

**値**

| _**値**_           |
| ----------------- |
| **UNKNOWN_CAUSE** |
| **OTHER_CAUSE**   |
| **技術的問題**         |
| **ストライク**         |
| **デモ**            |
| **事故**            |
| **休日**            |
| **天候**            |
| **メンテナンス**        |
| **工事**            |
| **警察活動**          |
| **医療・救急**         |

## _enum_効果

この問題が影響を受けるエンティティに及ぼす影響。

**値**

| _**値**_             |
| ------------------- |
| **サービスなし**          |
| **reduced_service** |
| **大幅な遅延**           |
| **ディトゥアー**          |
| **追加サービス**          |
| **変更されたサービス**       |
| **その他の影響**          |
| **不明なエフェクト**        |
| **移動停止**            |
| **ノーエフェクト**         |
| **アクセシビリティ問題**      |

## _enum_SeverityLevel

警告の深刻度

注意**：**このフィールドはまだ実験**的**なものであり、変更される可能性がある。将来、正式に採用される可能性がある。

**値**

| _**値**_              |
| -------------------- |
| **unknown_severity** |
| **INFO**             |
| **警告**               |
| **激しい**              |

## _メッセージ_TimeRange

時間間隔。時間間隔は、`tが`開始時間以上、終了時間未満であれば、時間`tで`アクティブとみなされる。

**フィールド**

| _**フィールド名**_ | _**タイプ**_                                                                  | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                       |
| ------------ | -------------------------------------------------------------------------- | -------- | -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| **開始位置**     | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 条件付きで必須  | 一人             | 開始時刻はPOSIX時間（すなわち、1970年1月1日00:00:00 UTCからの秒数）です。これがない場合、間隔はマイナス無限大から始まる。  TimeRangeを指定する場合は、開始時刻と終了時刻のどちらかを指定する必要があります（両方のフィールドを空にすることはできません）。 |
| **終了**       | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 条件付きで必須  | 一人             | POSIX時間での終了時間（すなわち、1970年1月1日午前0時00分00秒UTCからの秒数）。省略した場合、区間はプラス無限大で終了する。TimeRangeが提供される場合、startまたはendのどちらかが提供されなければならない - 両フィールドは空であってはならない。     |

## _メッセージ_位置

車両の地理的な位置。

**フィールド**

| _**フィールド名**_ | _**タイプ**_                                                                | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                     |
| ------------ | ------------------------------------------------------------------------ | -------- | -------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| **緯度**       | [フロート](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 必須       | 一人             | 北緯度、WGS-84座標系での値。                                                                                                            |
| **経度**       | [フロート](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 必須       | 一人             | 東経の度数、WGS-84座標系での値。                                                                                                          |
| **方位**       | [フロート](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | 方位、真北から時計回りで、すなわち0は北、90は東である。これはコンパスの方位であったり、次の停車駅や中間地点に向かう方位であったりする。これは、クライアントが以前のデータから計算することができる、以前の位置のシーケンスから推測されるべきではない。 |
| **オドメーター**   | [ダブル](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | 任意       | 一人             | オドメーターの値、単位はメートル                                                                                                             |
| **速度**       | [フロート](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | 車両が計測した瞬間速度、単位はメートル毎秒。                                                                                                       |

## _message_TripDescriptor

GTFSトリップのインスタンスを特定するための記述子。

トリップのインスタンスは、多くの場合、`trip_id`のみで十分である。ただし、以下の場合は、トリップインスタンスを特定するために追加情報が必要である。

*   frequencies.txt定義されたトリップの場合、`trip_id`加え、`start_dateと` `start_time`必要である。
*   トリップが24時間以上継続する場合、または翌日に予定されているトリップと衝突するような遅延がある場合、`trip_id`加え`start_dateが`必要です。
*   `trip_id`フィールドを提供できない場合、`route_id`、`direction_id`、`start_date`、`start_time`の全てを提供する必要がある。

いずれの場合も、`trip_id` に加えて`route_id`を指定する場合は、GTFS trips.txt で指定されたトリップと同じ`route_id`でなければならない。

`trip_id`フィールドは、単独で、または他の TripDescriptor フィールドと組み合わせて、複数のトリップインスタンスを識別するために使用することはできない。たとえば、GTFS frequencies.txtの exact_times=0 のトリップに対して、TripDescriptor はtrip_id単独で指定してはならない。これは、1 日のうち特定の時刻に始まる単一のトリップインスタンスを解決するためにstart_timeも必要であるためである。TripDescriptor が単一のトリップインスタンスに解決しない場合（すなわち、ゼロまたは複数のトリップイン スタンスに解決する場合）、エラーと見なされ、誤った TripDescriptor を含むエンティティは消費者によって廃棄される可能性がある。

trip_idが不明な場合、TripUpdate のステーションシーケンス ID では不十分であり、stop_id も提供する必要があることに注意すること。さらに、絶対的な到着時刻と出発時刻も提供されなければならない。

TripDescriptor.route_idroute_idAlert EntitySelector内で使用して、ルートのすべてのトリップに影響するルートワイドアラートを指定することはできない。

**フィールド**

| _**フィールド名**_     | _**タイプ**_                                                                  | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ---------------- | -------------------------------------------------------------------------- | -------- | -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **trip_id**      | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)    | 条件付きで必須  | 一人             | このセレクタが参照するGTFSフィードのtrip_id。頻度制でないトリップ（GTFS frequencies.txt定義されていないトリップ）の場合、このフィールドだけでトリップを一意に特定できます。GTFS frequencies.txtxtで定義されているフリークエンシーベーストリップの場合、trip_id、start_time、start_dateはすべて必須です。スケジュール型トリップ（GTFS frequencies.txt定義されていないトリップ）の場合、trip_id省略できるのは、route_id, direction_id,start_time, start_dateの組み合わせでトリップを一意に特定できる場合で、これらのフィールドがすべて提供されている場合のみである。TripUpdateでschedule_relationshipがDUPLICATEDの場合、trip_id静的GTFS複製するトリップを特定する。Schedule_relationship が VehiclePosition 内で DUPLICATED の場合、trip_idは新たに複製されるトリップを識別し、対応する TripUpdate.TripProperties.trip_id の値を含まなければならない。                                |
| **route_id**     | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)    | 条件付きで必須  | 一人             | このセレクタが参照するGTFSのroute_idを示す。trip_idが省略された場合、トリップインスタンスを識別するためにroute_id, direction_id,start_time, schedule_relationship=SCHEDULED がすべて設定されていなければならない。TripDescriptor.route_idAlert EntitySelector内で使用して、ルートのすべてのトリップに影響するルート全体の警告を指定することはできません - 代わりにEntitySelector.route_id使用してください。                                                                                                                                                                                                                                                                                                                            |
| **direction_id** | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 条件付きで必須  | 一人             | GTFSフィードのtrips.txtファイルにある direction_id で、このセレクタが参照するトリップの進行方向を示しま す。trip_idが省略された場合は、direction_id を指定する必要があります。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。<br/>                                                                                                                                                                                                                                                                                                                                                                                           |
| **start_time**   | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)    | 条件付きで必須  | 一人             | このトリップインスタンスの開始予定時刻。trip_id非頻度ベースのトリップに対応する場合、このフィールドは省略されるか、GTFSフィードの値と等しくなければならない。trip_idがGTFS frequencies.txt で定義された頻度制トリップに対応する場合、start_timeは必須であり、トリップの更新と車両位置のために指定する必要がある。トリップが exact_times=1 のGTFSレコードに対応する場合、start_timeは、対応する時間帯のfrequencies.txt start_timeより headway_secs の倍数（0 を含む）遅くなければならない。exact_times=0に対応するトリップの場合、そのstart_time任意であり、当初はトリップの最初の出発時刻となることが予想される。一度設定された頻度ベースのexact_times=0トリップのstart_time、最初の出発時刻が変更されても、不変であると考えるべきである -- その時刻変更は、代わりにStopTimeUpdateに反映されるかもしれない。trip_idが省略された場合、start_timeが指定されなければならない。このフィールドのフォーマットと意味は、GTFSfrequencies.txtものと同じである（例：11:15:35、25:15:35）。 |
| **開始日**          | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)    | 条件付きで必須  | 一人             | このトリップインスタンスの開始日（YYYYMMDD形式）。予定されているトリップ（GTFS frequencies.txt定義されていないトリップ）については、このフィールドは、翌日に予定されているトリップと衝突するほど遅いトリップをあいまいにするために提供されなければなりません。例えば、毎日8時と20時に出発する列車が12時間遅れた場合、同じ時刻に2つの異なるトリップが存在することになる。このフィールドは、このような衝突が不可能なスケジュール（例えば、1時間Schedule運行するサービスで、1時間遅れの車両はもうSchedule関係ないと考えられる）のために提供することができますが、必須ではありません。GTFS frequencies.txt定義された頻度ベースのトリップの場合、このフィールドは必須である。trip_idが省略された場合、start_date を指定する必要がある。                                                                                                                                                                                                 |
| **スケジュール関係**     | [スケジュール関係](#enum-schedulerelationship-1)                                   | 任意       | 一人             | このトリップと静止Schedule関係。アラートで TripDescriptor が提供される場合、このフィールドはコンシューマによって無視される。 `EntitySelector`また `schedule_relationship`フィールドは、一致するトリップインスタンスを特定する際にコンシューマーによって無視されます。                                                                                                                                                                                                                                                                                                                                                                                                                                            |

## _enum_ScheduleRelationship

このトリップと静的なSchedule関係。GTFS反映されていない一時的なScheduleトリップが行われる場合、それはSCHEDULEDとマークされるべきではなく、ADDEDとマークされるべきです。

**値**

| _**値**_                    | _**コメント**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| -------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **スケジュール済み**               | GTFS Schedule運行されているトリップ、もしくはスケジュールされたトリップと関連づけられるほど近接しているトリップ。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **ADDED**                  | 故障した車両の交換や、急な乗客の増加に対応するため、実行中のSchedule追加されたトリップ。 _注：現在、このモードを使用するフィードの動作は指定されていません。GTFSGitHubで議論が行われています。 [(1)](https://github.com/google/transit/issues/106) [(2)](https://github.com/google/transit/pull/221) [(3)](https://github.com/google/transit/pull/219)にて、ADDEDトリップの完全な指定や非推奨について議論されており、それらの議論がまとまった時点でドキュメントが更新される予定です。_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **UNSCHEDULED（アンシュードゥルード** | GTFSfrequenciesfrequencies.txt frequencies.txt定義されていないトリップや、GTFS frequencies.txtexact_times=1のトリップを説明するために使用するべきではありません。を持つトリップは `schedule_relationship: UNSCHEDULED`のトリップは、すべてのStopTimeUpdateを設定する必要があります。 `schedule_relationship: UNSCHEDULED`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **キャンセル**                  | Schedule上に存在し、削除されたトリップ。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **重複**                     | 新規に作成されたトリップで、運行開始日時以外は既存のスケジュールと同じもの。と共に使用します。 `TripUpdate.TripProperties.trip_id`, `TripUpdate.TripProperties.start_date`と `TripUpdate.TripProperties.start_time`と共に使用され、静的なGTFS既存のトリップをコピーしますが、サービス開始日および／または時間が異なります。トリップの複製は、(CSV)GTFS複製元のトリップに関連するサービスが(中略)今後30日以内に運行される場合に許可されます。 `calendar.txt`または `calendar_dates.txt`のトリップに関連するサービスが今後30日以内に運行される場合、トリップの複製が可能です。複製されるトリップは、以下の方法で特定される。 `TripUpdate.TripDescriptor.trip_id`. <br/><br/>この列挙は、(CSV)で参照される既存のトリップを変更しない。 `TripUpdate.TripDescriptor.trip_id`- 製作者がオリジナルのトリップをキャンセルしたい場合は、別途、CANCELED の値を持つトリップを発行する必要があります。 `TripUpdate`を発行しなければならない。GTFS定義されたトリップ `frequencies.txt`と `exact_times`で定義されたトリップは、空であるか `0`に等しいトリップは、複製できない。新しいトリップの `VehiclePosition.TripDescriptor.trip_id`には、新しいトリップに対応する値が含まれていなければなりません。 `TripUpdate.TripProperties.trip_id`そして `VehiclePosition.TripDescriptor.ScheduleRelationship`にも設定されていなければならない。 `DUPLICATED`.  <br/><br/>_ADDED列挙を使用して重複するトリップを表現していた既存のプロデューサーおよびコンシューマーは [移行ガイド](https://github.com/google/transit/blob/master/gtfs-realtime/spec/en/examples/migration-duplicated.md)に従って、DUPLICATED 列挙に移行しなければならない。_ |

## _メッセージ_VehicleDescriptor

トリップを実行する車両の識別情報。

**フィールド**

| _**フィールド名**_      | _**タイプ**_                                                               | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                          |
| ----------------- | ----------------------------------------------------------------------- | -------- | -------------- | ----------------------------------------------------------------------------------------------------------------- |
| **id**            | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | 車両の内部システム識別。車両ごとにあるべき **一意**車両ごとに存在すべきであり、システムを通過する際に車両を追跡するために使用される。この ID はエンドユーザーには見えないようにする必要がある。 **ラベル**フィールド |
| **ラベル**           | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | ユーザー可視ラベル、つまり正しい車両を識別するために乗客に見せなければならないもの。                                                                        |
| **license_plate** | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 任意       | 一人             | 車両のナンバープレート。                                                                                                      |

## _message_EntitySelector

GTFSフィードのエンティティに対するセレクタ。フィールドの値は、GTFSフィードの適切なフィールドに対応するものでなければならない。少なくとも1つの指定子を与えなければならない。複数指定した場合は、論理`AND`演算子で結合されたものとして解釈されます。 さらに、指定子の組み合わせは、GTFSフィードの対応する情報と一致しなければなりません。 言い換えれば、GTFSエンティティに警告を適用するには、提供されたEntitySelectorフィールドのすべてに一致する必要があります。 たとえば、EntitySelector に`route_id`.5 と route_type.5 のフィールドが含まれているとします。`5」`、「`route_type:`「`3 "という`フィールドを含む EntitySelector は、`route_id`"5 "のバスにのみ適用され、`route_type.`3 の他のルートには適用されません。"`3".` route`route_id`: "5 "とroute_type: "3 "の他のルートには適用されません。`5 "`と "rout`e_type:`もし、製作者が`route_id`: "5" と route_type:`"3"` に警告を適用したい場合、2つの別々の EntitySelectors を提供する必要があります。5`"`を参照するものと、"route`_type`"を参照するものです。`"3".`

少なくとも 1 つの指定子を指定する必要があります。EntitySelector のすべてのフィールドを空にすることはできません。

**フィールド**

| _**フィールド名**_     | _**タイプ**_                                                                  | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                                           |
| ---------------- | -------------------------------------------------------------------------- | -------- | -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **agency_id**    | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)    | 条件付きで必須  | 一人             | このセレクタが参照するGTFSフィードのagency_id。                                                                                                                                                                                                     |
| **route_id**     | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)    | 条件付きで必須  | 一人             | このセレクタが参照するGTFSのroute_idです。direction_id を指定する場合、route_idも指定する必要がある。                                                                                                                                                                |
| **ルートタイプ**       | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | 条件付きで必須  | 一人             | このセレクタが参照するGTFSの route_type を指定する。                                                                                                                                                                                                 |
| **direction_id** | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 条件付きで必須  | 一人             | GTFSfeedtrips.txtから、route_id で指定された経路の一方向のトリップを全て選択するための direction_id を指定する。direction_id が指定された場合、route_idも指定されなければならない。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。<br/>      |
| **トリップ**         | [TripDescriptor](#message-tripdescriptor)                                  | 条件付きで必須  | 一人             | このセレクタが参照するGTFSからのトリップインスタンス。この TripDescriptor はGTFSデータ内の単一のトリップインスタンスに解決する必要がある（例：プロデューサは exact_times=0 のトリップに対してtrip_idのみを提供することはできない）。この TripDescriptor に ScheduleRelationship フィールドが入力されている場合、コンシューマがGTFSトリップを識別しようとすると無視されます。 |
| **stop_id**      | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar)    | 条件付きで必須  | 一人             | このセレクタが参照するGTFSフィードからのstop_idです。                                                                                                                                                                                                   |

## _メッセージ_TranslatedString

テキストやURLのスニペットの言語ごとのバージョンを含む国際化メッセージ。メッセージから文字列の1つがピックアップされます。解決は次のように進みます。UIlanguage翻訳のlanguageコードと一致する場合、最初に一致した翻訳がピックアップされます。デフォルトのUIlanguage(例: 英語) が翻訳のlanguageコードと一致する場合、最初に一致した翻訳が選択されます。languageコードが指定されていない翻訳がある場合、その翻訳が選択されます。

**フィールド**

| _**フィールド名**_ | _**タイプ**_                  | _**必須**_ | _**カーディナリティ**_ | _**説明**_                |
| ------------ | -------------------------- | -------- | -------------- | ----------------------- |
| **翻訳**       | [翻訳](#message-translation) | 必須       | 多数             | 少なくとも1つの翻訳を提供する必要があります。 |

## _message_翻訳

languageマッピングされたローカライズされた文字列。

| _**フィールド名**_ | _**タイプ**_                                                               | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                     |
| ------------ | ----------------------------------------------------------------------- | -------- | -------------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| **テキスト**     | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 必須       | 一人             | メッセージを含むUTF-8文字列。                                                                                                                            |
| **language** | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 条件付きで必須  | 一人             | BCP-47 のlanguageコード。language不明な場合、あるいはフィードの国際化がまったく行われていない場合は省略可能です。未指定のlanguageタグを指定できるのは、最大でひとつの翻訳だけです。複数の翻訳がある場合は、そのlanguage指定しなければなりません。 |

## _メッセージ_TranslatedImage

言語ごとの画像を含む、国際化されたメッセージ。メッセージから画像の1つがピックアップされます。解決は次のように進みます。UIlanguage翻訳のlanguageコードと一致する場合、最初に一致した翻訳がピックアップされます。デフォルトのUIlanguage（例えば、英語）が翻訳のlanguageコードと一致する場合、最初に一致する翻訳が選ばれます。languageコードが指定されていない翻訳がある場合、その翻訳が選択されます。

注意**：**このメッセージはまだ実験**的**なものであり、変更される可能性があります。将来、正式に採用される可能性があります。

**フィールド**

| _**フィールド名**_    | _**タイプ**_                              | _**必須**_ | _**カーディナリティ**_ | _**説明**_                         |
| --------------- | -------------------------------------- | -------- | -------------- | -------------------------------- |
| **ローカライズされた画像** | [ローカライズされた画像](#message-localizedimage) | 必須       | 多数             | 少なくとも1つのローカライズされた画像を提供する必要があります。 |

## _メッセージ_LocalizedImage

あるlanguageマップされたローカライズ画像のURL．

| _**フィールド名**_ | _**タイプ**_                                                               | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                                                                                                                                                             |
| ------------ | ----------------------------------------------------------------------- | -------- | -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **url**      | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 必須       | 一人             | 画像へのリンクURLを含む文字列．リンク先の画像は2MB未満でなければならない。消費者側で更新が必要なほど画像が大幅に変更された場合、製作者は URL を新しいものに更新しなければならない。<br/><br/>URLは、http:// または https:// を含む完全修飾URLでなければならず、URL内の特殊文字は正しくエスケープされていなければなりません。以下を参照してください。 [については、https://www.w3.org/Addressing/URL/4_URI_Recommentations.html。](https://www.w3.org/Addressing/URL/4_URI_Recommentations.html for)を参照してください。 |
| **メディアタイプ**  | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 必須       | 一人             | 表示する画像の種類を指定するための IANA メディアタイプ。タイプは "image/" で始まらなければならない。                                                                                                                                                                                                                                                                                           |
| **language** | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 条件付きで必須  | 一人             | BCP-47 のlanguageコード。language不明な場合、あるいはフィードの国際化がまったく行われていない場合は省略可能です。未指定のlanguageタグを指定できるのは、最大でひとつの翻訳だけです。複数の翻訳がある場合は、そのlanguage指定しなければなりません。                                                                                                                                                                                                         |

## _メッセージ_形状

形状が（CSV）GTFS一部でない場合、車両が通る物理的な経路を記述する（アドホックな回り道の場合など）。シェイプはトリップに属し、より効率的な伝送のためにエンコードされたポリラインで構成される。 ShapeはStopの位置を正確に捉える必要はないが、トリップ上の全てのStopはそのトリップのShapeからわずかな距離、すなわちShapeの点を結ぶ直線セグメントに近い位置にあるべきである。

注意**：**このメッセージはまだ**実験的な**ものであり、変更される可能性があります。将来、正式に採用される可能性があります。<br/>.

**フィールド**

| _**フィールド名**_      | _**タイプ**_                                                               | _**必須**_ | _**カーディナリティ**_ | _**説明**_                                                                                                                                                                                                                                        |
| ----------------- | ----------------------------------------------------------------------- | -------- | -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **shape_id**      | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 必須       | 一人             | 形状の識別子。CSVで定義されたものと異なっている必要がある。 `shape_id`(CSV)GTFS で定義されているものとは異なるものでなければならない。 <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。                                                                 |
| **エンコードされたポリライン** | [文字列](https://developers.google.com/protocol-buffers/docs/proto#scalar) | 必須       | 一人             | 形状の符号化されたポリライン表現。このポリラインは少なくとも2点を含んでいなければならない。エンコードポリラインの詳細については <https://developers.google.com/maps/documentation/utilities/polylinealgorithm> <br/><br/>**注意**this field is still **実験的**将来、正式に採用されるかもしれないし、変更されるかもしれない。将来的に正式に採用される可能性があります。 |
