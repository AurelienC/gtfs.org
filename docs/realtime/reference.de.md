# Realtime

Mit einem GTFS Realtime können Verkehrsunternehmen ihre Kunden Realtime über Störungen ihres Dienstes (geschlossene Bahnhöfe, ausgefallene Linien, große Verspätungen usw.), den Standort ihrer Fahrzeuge und die voraussichtlichen Ankunftszeiten informieren.

Die Version 2.0 der Feed-Spezifikation wird auf dieser Website diskutiert und dokumentiert. Gültige Versionen sind "2.0", "1.0".

### Begriffsdefinitionen

#### Erforderlich

In GTFS v2.0 und höher beschreibt die Spalte " _Erforderlich"_, welche Felder von einem Produzenten bereitgestellt werden müssen, damit die Transitdaten gültig und für eine konsumierende Anwendung sinnvoll sind.

Die folgenden Werte werden im Feld _Erforderlich_ verwendet:

*   **Erforderlich**: Dieses Feld muss von einem GTFS bereitgestellt werden.
*   **Bedingt erforderlich**: Dieses Feld ist unter bestimmten Bedingungen erforderlich, die in der _Feldbeschreibung_ aufgeführt sind. Außerhalb dieser Bedingungen ist das Feld optional.
*   **Wahlweise**: Dieses Feld ist optional und muss von den Herstellern nicht implementiert werden. Wenn die Daten jedoch in den zugrundeliegenden automatischen Fahrzeugortungssystemen verfügbar sind (z. B. VehiclePosition `timestamp`), wird empfohlen, dass die Hersteller diese optionalen Felder nach Möglichkeit bereitstellen.

_Beachten Sie, dass die semantischen Anforderungen in GTFS Version 1.0 nicht definiert wurden und daher Feeds mit `gtfs_realtime_version` von `1` diese Anforderungen möglicherweise nicht erfüllen (siehe [den Vorschlag für semantische Anforderungen](https://github.com/google/transit/pull/64)_ für Details).

#### Kardinalität

Die_Kardinalität_ gibt die Anzahl der Elemente an, die für ein bestimmtes Feld angegeben werden können, wobei die folgenden Werte gelten:

*   **One** - Für dieses Feld kann ein einzelnes One-Element angegeben werden. Dies entspricht den [_erforderlichen_ und _optionalen_](https://developers.google.com/protocol-buffers/docs/proto#simple) Kardinalitäten des Protokollpuffers.
*   **Viele** - Für dieses Feld können viele Elemente (0, 1 oder mehr) angegeben werden. Dies entspricht der [_wiederholten_](https://developers.google.com/protocol-buffers/docs/proto#simple) Kardinalität des Protokollpuffers.

Beziehen Sie sich immer auf die Felder _Erforderlich_ und _Beschreibung_, um zu sehen, ob ein Feld erforderlich, bedingt erforderlich oder optional ist. Für die Kardinalität des Protokollpuffers verweisen Sie bitte auf [GTFS-Realtime/proto/GTFS-Realtime.proto">`GTFS`](<https://github.com/google/transit/blob/master/\<glossary variable=>).proto.

#### Protokollpuffer-Datentypen

Die folgenden Protokollpuffer-Datentypen werden zur Beschreibung von Feed-Elementen verwendet:

*   **Nachricht**: Komplexer Typ
*   **Aufzählung**: Liste von Festwerten

#### Experimentelle Felder

Felder, die als **experimentell** gekennzeichnet sind, unterliegen Änderungen und sind noch nicht offiziell in die Spezifikation aufgenommen worden. Ein **experimentelles** Feld kann in der Zukunft formell angenommen werden.

## Element-Index

*   [FeedMessage](#message-feedmessage)
    *   [FeedHeader](#message-feedheader)

        *   [Inkrementalität](#enum-incrementality)

    *   [FeedEntity](#message-feedentity)

        *   [TripUpdate](#message-tripupdate)

            *   [TripDescriptor](#message-tripdescriptor)

                *   [ScheduleRelationship](#enum-schedulerelationship-1)

            *   [FahrzeugDeskriptor](#message-vehicledescriptor)

            *   [StopTimeUpdate](#message-stoptimeupdate)

                *   [StopTimeEvent](#message-stoptimeevent)
                *   [ZeitplanVerknüpfung](#enum-schedulerelationship)
                *   [StopTimeProperties](#message-stoptimeproperties)

            *   [TripProperties](#message-tripproperties)

        *   [FahrzeugPosition](#message-vehicleposition)

            *   [TripDescriptor](#message-tripdescriptor)

                *   [FahrplanVerknüpfung](#enum-schedulerelationship-1)

            *   [FahrzeugDeskriptor](#message-vehicledescriptor)

            *   [Standort](#message-position)

            *   [FahrzeugStopStatus](#enum-vehiclestopstatus)

            *   [CongestionLevel](#enum-congestionlevel)

            *   [OccupancyStatus](#enum-occupancystatus)

            *   [CarriageDetails](#message-carriagedetails)

        *   [Warnung](#message-alert)

            *   [ZeitReichweite](#message-timerange)

            *   [EntitySelector](#message-entityselector)

                *   [TripDescriptor](#message-tripdescriptor)

                    *   [ScheduleRelationhip](#enum-schedulerelationship-1)

            *   [Ursache](#enum-cause)

            *   [Wirkung](#enum-effect)

            *   [TranslatedString](#message-translatedstring)

                *   [Übersetzung](#message-translation)

            *   [SeverityLevel](#enum-severitylevel)

## Elemente

## _message_ FeedMessage

Der Inhalt einer Feed-Nachricht. Jede Nachricht im Stream wird als Antwort auf eine entsprechende HTTP-GET-Anfrage erhalten. Ein Realtime wird immer mit Bezug auf einen bestehenden GTFS definiert. Alle Entity-IDs werden in Bezug auf den GTFS aufgelöst.

**Felder**

| _**Feldname**_ | _**Typ**_                         | _**Erforderlich**_   | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                            |
| -------------- | --------------------------------- | -------------------- | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Kopfzeile**  | [FeedHeader](#message-feedheader) | Erforderlich         | Eine               | Metadaten über diesen Feed und die Feed-Nachricht.                                                                                                                                                                                                            |
| **Entität**    | [FeedEntity](#message-feedentity) | Bedingt erforderlich | Viele              | Inhalt des Feeds.  Wenn Echtzeitinformationen für das Versandverfahren verfügbar sind, muss dieses Feld angegeben werden.  Wenn dieses Feld leer ist, sollten die Verbraucher davon ausgehen, dass keine Echtzeitinformationen für das System verfügbar sind. |

## _Nachricht_ FeedHeader

Metadaten zu einem Feed, die in Feed-Nachrichten enthalten sind.

**Felder**

| _**Feldname**_            | _**Typ**_                                                                        | _**Erforderlich**_ | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ------------------------- | -------------------------------------------------------------------------------- | ------------------ | ------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **gtfs_echtzeit_version** | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Erforderlich       | Eine               | Version der Feed-Spezifikation. Die aktuelle Version ist 2.0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Inkrementalität**       | [Inkrementalität](#enum-incrementality)                                          | Erforderlich       | Eine               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Zeitstempel**           | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar)       | Erforderlich       | Eine               | Dieser Zeitstempel gibt den Zeitpunkt an, zu dem der Inhalt dieses Feeds erstellt wurde (in Serverzeit). In POSIX-Zeit (d. h. die Anzahl der Sekunden seit dem 1. Januar 1970 00:00:00 UTC). Um Zeitverschiebungen zwischen Systemen zu vermeiden, die Realtime produzieren und konsumieren, wird dringend empfohlen, den Zeitstempel von einem Zeitserver abzuleiten. Die Verwendung von Servern der Schicht 3 oder noch niedrigerer Schichten ist völlig akzeptabel, da Zeitunterschiede von bis zu einigen Sekunden tolerierbar sind. |

## _enum_ Inkrementalität

Bestimmt, ob der aktuelle Abruf inkrementell ist.

*   **FULL_DATASET**: Diese Feed-Aktualisierung überschreibt alle vorangegangenen Realtime für den Feed. Es wird also erwartet, dass diese Aktualisierung einen vollständigen Schnappschuss aller bekannten Realtime liefert.
*   **DIFFERENTIAL**: Derzeit **wird** dieser Modus **nicht unterstützt** und das Verhalten ist für Feeds, die diesen Modus verwenden, **nicht spezifiziert**. Es gibt Diskussionen auf der [GTFS-realtime">GTFS Realtime](<https://groups.google.com/group/\<glossary variable=>) Mailingliste, um das Verhalten des DIFFERENTIAL Modus vollständig zu spezifizieren und die Dokumentation wird aktualisiert, sobald diese Diskussionen abgeschlossen sind.

**Werte**

| _**Wert**_       |
| ---------------- |
| **FULL_DATASET** |
| **DIFFERENTIAL** |

## _Nachricht_ FeedEntity

Eine Definition (oder Aktualisierung) einer Entität im Transit-Feed. Wenn die Entität nicht gelöscht wird, sollte genau eines der Felder "trip_update", "vehicle", "alert" und "shape" ausgefüllt werden.

**Felder**

| _**Feldname**_  | _**Typ**_                                                                        | _**Erforderlich**_   | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                 |
| --------------- | -------------------------------------------------------------------------------- | -------------------- | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **id**          | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Erforderlich         | Eine               | Feed-unique identifier für diese Entität. Die IDs werden nur zur Unterstützung der Inkrementalität verwendet. Die tatsächlichen Entitäten, auf die der Feed verweist, müssen durch explizite Selektoren angegeben werden (siehe EntitySelector unten für weitere Informationen).                                                                                   |
| **is_deleted**  | [bool](https://developers.google.com/protocol-buffers/docs/proto#scalar)         | Fakultativ           | Eine               | Ob diese Entität gelöscht werden soll. Sollte nur für Feeds mit der Inkrementalität DIFFERENTIAL angegeben werden - dieses Feld sollte NICHT für Feeds mit der Inkrementalität FULL_DATASET angegeben werden.                                                                                                                                                      |
| **trip_update** | [TripUpdate](#message-tripupdate)                                                | Bedingt erforderlich | Eine               | Daten über die Realtime einer Fahrt.  Mindestens eines der Felder trip_update, vehicle, alert oder shape muss angegeben werden - alle diese Felder dürfen nicht leer sein.                                                                                                                                                                                         |
| **Fahrzeug**    | [FahrzeugPosition](#message-vehicleposition)                                     | Bedingt erforderlich | Eine               | Daten über die Realtime eines Fahrzeugs. Mindestens eines der Felder trip_update, vehicle, alert oder shape muss angegeben werden - alle diese Felder dürfen nicht leer sein.                                                                                                                                                                                      |
| **Warnung**     | [Warnung](#message-alert)                                                        | Bedingt erforderlich | Eine               | Daten über die Realtime. Mindestens eines der Felder trip_update, vehicle, alert oder shape muss angegeben werden; alle diese Felder dürfen nicht leer sein.                                                                                                                                                                                                       |
| **Form**        | [Form](#message-shape)                                                           | Bedingt erforderlich | Eine               | Daten über die in Realtime hinzugefügten Formen, z. B. für eine Umleitung. Mindestens eines der Felder trip_update, vehicle, alert oder shape muss angegeben werden - alle diese Felder dürfen nicht leer sein. <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden. |

## _Meldung_ TripUpdate

Realtime des Fortschritts eines Fahrzeugs auf einer Fahrt. Bitte beachten Sie auch die allgemeine Diskussion über die [Realtime/trip-updates">Entitäten zur Aktualisierung von Fahrten](</\<glossary variable=>).

Je nach dem Wert von ScheduleRelationship kann ein TripUpdate angeben:

*   Eine Fahrt, die entlang des Schedule verläuft.
*   Eine Fahrt, die entlang einer Route verläuft, aber keinen festen Schedule hat.
*   Eine Reise, die in Bezug auf den Schedule hinzugefügt oder entfernt wurde.
*   Eine neue Fahrt, die eine Kopie einer bestehenden Fahrt im statischen GTFS ist. Sie wird zu dem in TripProperties angegebenen Servicedatum und der dort angegebenen Uhrzeit ausgeführt.

Die Aktualisierungen können sich auf zukünftige, vorhergesagte Ankunfts-/Abfahrtsereignisse oder auf bereits eingetretene Ereignisse beziehen. In den meisten Fällen handelt es sich bei den Informationen über vergangene Ereignisse um einen gemessenen Wert, so dass für den Unsicherheitswert der Wert 0 empfohlen wird. Es kann jedoch Fälle geben, in denen dies nicht zutrifft, so dass für vergangene Ereignisse ein von 0 abweichender Unsicherheitswert zulässig ist. Wenn die Unsicherheit einer Aktualisierung nicht 0 ist, handelt es sich entweder um eine ungefähre Vorhersage für eine Reise, die noch nicht abgeschlossen ist, oder die Messung ist nicht präzise, oder die Aktualisierung war eine Vorhersage für die Vergangenheit, die nach dem Eintreten des Ereignisses nicht überprüft wurde.

Wenn ein Fahrzeug mehrere Fahrten innerhalb desselben Blocks bedient (weitere Informationen über Fahrten und Blöcke finden Sie in [Schedule/reference/#tripstxt">GTFS trips.txt](</\<glossary variable=>)):

*   sollte der Feed ein TripUpdate für die Fahrt enthalten, die gerade von dem Fahrzeug bedient wird. Die Produzenten werden ermutigt, TripUpdates für eine oder mehrere Fahrten nach der aktuellen Fahrt in den Block dieses Fahrzeugs aufzunehmen, wenn der Produzent von der Qualität der Vorhersagen für diese zukünftige(n) Fahrt(en) überzeugt ist. Durch die Aufnahme mehrerer TripUpdates für dasselbe Fahrzeug wird vermieden, dass die Vorhersage für die Fahrgäste beim Übergang von einer Fahrt zu einer anderen "aufpoppt", und die Fahrgäste werden im Voraus über Verspätungen informiert, die sich auf nachfolgende Fahrten auswirken (z. B. wenn die bekannte Verspätung die geplanten Wartezeiten zwischen den Fahrten überschreitet).
*   müssen die entsprechenden TripUpdate-Entitäten nicht in der gleichen Reihenfolge zum Feed hinzugefügt werden, in der sie im Block vorgesehen sind. Wenn es beispielsweise Fahrten mit den `trip_ids` 1, 2 und 3 gibt, die alle zu einem Block gehören, und das Fahrzeug fährt zuerst die Fahrt 1, dann die Fahrt 2 und dann die Fahrt 3, können die `trip_update-Entitäten` in beliebiger Reihenfolge erscheinen - zum Beispiel ist das Hinzufügen der Fahrt 2, dann der Fahrt 1 und dann der Fahrt 3 zulässig.

Es ist zu beachten, dass die Aktualisierung eine bereits abgeschlossene Reise beschreiben kann; zu diesem Zweck reicht es aus, eine Aktualisierung für den letzten Halt der Reise bereitzustellen. Wenn die Ankunftszeit an der letzten Haltestelle in der Vergangenheit liegt, schließt der Kunde daraus, dass die gesamte Reise in der Vergangenheit liegt (es ist möglich, wenn auch unwichtig, auch Aktualisierungen für vorhergehende Haltestellen zu liefern). Diese Option ist vor allem für eine Fahrt relevant, die vor dem Schedule abgeschlossen wurde, aber laut Schedule zum aktuellen Zeitpunkt noch im Gange ist. Das Entfernen der Aktualisierungen für diese Fahrt könnte dazu führen, dass der Client annimmt, dass die Fahrt noch andauert. Beachten Sie, dass der Feed-Anbieter vergangene Aktualisierungen löschen darf, aber nicht muss - dies ist ein Fall, in dem dies praktisch nützlich wäre.

**Felder**

| _**Feldname**_       | _**Typ**_                                                                  | _**Erforderlich**_   | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| -------------------- | -------------------------------------------------------------------------- | -------------------- | ------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Reise**            | [TripDescriptor](#message-tripdescriptor)                                  | Erforderlich         | Eine               | Der Trip, für den diese Meldung gilt. Es kann höchstens eine TripUpdate-Entität für jede tatsächliche Reise-Instanz geben. Wenn es keine gibt, bedeutet das, dass keine Vorhersageinformationen verfügbar sind. Es bedeutet _nicht_ bedeutet, dass die Fahrt gemäß dem Schedule verläuft.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **Fahrzeug**         | [FahrzeugDeskriptor](#message-vehicledescriptor)                           | Fakultativ           | Eine               | Zusätzliche Informationen über das Fahrzeug, das diese Fahrt durchführt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **stop_time_update** | [StopTimeUpdate](#message-stoptimeupdate)                                  | Bedingt erforderlich | Viele              | Aktualisierungen der Haltestellenzeiten für die Fahrt (sowohl zukünftige, d. h. Vorhersagen, als auch in einigen Fällen vergangene, d. h. solche, die bereits stattgefunden haben). Die Aktualisierungen müssen nach stop_sequence sortiert sein und für alle folgenden Haltestellen der Fahrt bis zur nächsten angegebenen stop_time_update gelten.  Es muss mindestens ein stop_time_update für die Fahrt angegeben werden, es sei denn, die trip.schedule_relationship lautet CANCELED oder DUPLICATED - wird die Fahrt storniert, müssen keine stop_time_updates angegeben werden. Wenn die Fahrt dupliziert wird, können stop_time_updates bereitgestellt werden, um Echtzeitinformationen für die neue Fahrt anzugeben.                                                                                                                                                                                                                                                                                           |
| **Zeitstempel**      | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Fakultativ           | Eine               | Der letzte Zeitpunkt, an dem der Echtzeitfortschritt des Fahrzeugs gemessen wurde, um die Stoppzeiten in der Zukunft zu schätzen. Wenn Stoppzeiten in der Vergangenheit angegeben werden, können die Ankunfts-/Abfahrtszeiten früher als dieser Wert liegen. In POSIX-Zeit (d. h. die Anzahl der Sekunden seit dem 1. Januar 1970 00:00:00 UTC).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Verzögerung**      | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar)  | Fakultativ           | Eine               | Die aktuelle Schedule für die Fahrt. Die Verspätung sollte nur angegeben werden, wenn die Vorhersage relativ zu einem bestehenden Schedule in GTFS erfolgt.<br/>Die Verspätung (in Sekunden) kann positiv (d. h. das Fahrzeug ist verspätet) oder negativ (d. h. das Fahrzeug ist dem Schedule voraus) sein. Eine Verspätung von 0 bedeutet, dass das Fahrzeug genau pünktlich ist.<br/>Verspätungsinformationen in StopTimeUpdates haben Vorrang vor Verspätungsinformationen auf Fahrtenebene, so dass die Verspätung auf Fahrtenebene nur bis zur nächsten Haltestelle entlang der Fahrt mit einem angegebenen StopTimeUpdate-Verspätungswert weitergegeben wird.<br/>Feed-Anbietern wird dringend empfohlen, einen TripUpdate.timestamp-Wert anzugeben, der angibt, wann der Verspätungswert zuletzt aktualisiert wurde, um die Aktualität der Daten zu bewerten.<br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden. |
| **trip_properties**  | [TripProperties](#message-tripproperties)                                  | Fakultativ           | Eine               | Liefert die aktualisierten Eigenschaften für die Fahrt. <br/><br/>**Vorsicht:** diese Meldung ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

## _Meldung_ StopTimeEvent

Zeitangaben für ein einzelnes vorhergesagtes Ereignis (entweder Ankunft oder Abfahrt). Die Zeitangabe besteht aus der Verzögerung und/oder der geschätzten Zeit und der Unsicherheit.

*   Verspätung sollte verwendet werden, wenn die Vorhersage relativ zu einem bestehenden Schedule in GTFS angegeben wird.
*   Die Zeit sollte unabhängig davon angegeben werden, ob es einen vorausgesagten Schedule gibt oder nicht. Wenn sowohl Zeit als auch Verspätung angegeben werden, hat die Zeit Vorrang (obwohl normalerweise die Zeit, wenn sie für eine planmäßige Fahrt angegeben wird, gleich der planmäßigen Zeit in GTFS + Verspätung sein sollte).

Die Unsicherheit gilt sowohl für die Zeit als auch für die Verspätung. Die Unsicherheit gibt grob den erwarteten Fehler bei der tatsächlichen Verspätung an (die genaue statistische Bedeutung ist jedoch noch nicht definiert). Es ist möglich, dass die Unsicherheit 0 ist, z. B. bei Zügen, die von einem Computer zeitlich gesteuert werden.

**Felder**

| _**Feldname**_   | _**Typ**_                                                                 | _**Erforderlich**_   | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                         |
| ---------------- | ------------------------------------------------------------------------- | -------------------- | ------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Verzögerung**  | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Die Verspätung (in Sekunden) kann positiv sein (was bedeutet, dass das Fahrzeug Verspätung hat) oder negativ (was bedeutet, dass das Fahrzeug dem Schedule voraus ist). Eine Verspätung von 0 bedeutet, dass das Fahrzeug genau pünktlich ist.  In einem StopTimeEvent muss entweder die Verzögerung oder die Zeit angegeben werden - beide Felder dürfen nicht leer sein. |
| **Zeit**         | [int64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Ereignis als absolute Zeit. In POSIX-Zeit (d. h. die Anzahl der Sekunden seit dem 1. Januar 1970 00:00:00 UTC). In einem StopTimeEvent muss entweder delay oder time angegeben werden - beide Felder dürfen nicht leer sein.                                                                                                                                               |
| **Unsicherheit** | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Fakultativ           | Eine               | Wenn die Unsicherheit nicht angegeben wird, wird sie als unbekannt interpretiert. Um eine völlig sichere Vorhersage anzugeben, setzen Sie die Unsicherheit auf 0.                                                                                                                                                                                                          |

## _Meldung_ StopTimeUpdate

Realtime von Ankunfts- und/oder Abfahrtsereignissen für eine bestimmte Haltestelle auf einer Fahrt. Bitte beachten Sie auch die allgemeine Diskussion über die Aktualisierung von Haltestellenzeiten in der Dokumentation [TripDescriptor](#message-tripdescriptor) und [Realtime/trip-updates">Trip Updates Entities](</\<glossary variable=>).

Aktualisierungen können sowohl für vergangene als auch für zukünftige Ereignisse angegeben werden. Der Produzent darf, muss aber nicht, vergangene Ereignisse auslassen.

Die Aktualisierung ist entweder über stop_sequence oder stop_id mit einer bestimmten Haltestelle verknüpft, so dass eines dieser Felder unbedingt gesetzt sein muss. Wird dieselbe stop_id mehr als einmal während einer Fahrt angefahren, so sollte stop_sequence in allen StopTimeUpdates für diese stop_id auf dieser Fahrt angegeben werden.

**Felder**

| _**Feldname**_                 | _**Typ**_                                                                        | _**Erforderlich**_   | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ------------------------------ | -------------------------------------------------------------------------------- | -------------------- | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **stop_sequence**              | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar)       | Bedingt erforderlich | Eine               | Muss mit der Datei stop_times.txt im entsprechenden GTFS übereinstimmen.  Entweder stop_sequence oder stop_id müssen in einem StopTimeUpdate angegeben werden - beide Felder dürfen nicht leer sein. stop_sequence ist für Fahrten erforderlich, die dieselbe stop_id mehr als einmal anfahren (z. B. eine Schleife), um zu unterscheiden, für welche Haltestelle die Vorhersage gilt. Wenn `StopTimeProperties.assigned_stop_id` ausgefüllt ist, dann `stop_sequence` ausgefüllt werden.                                 |
| **stop_id**                    | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Muss dieselbe sein wie in stops.txt im entsprechenden GTFS. Entweder stop_sequence oder stop_id müssen in einem StopTimeUpdate angegeben werden - beide Felder dürfen nicht leer sein. Wenn `StopTimeProperties.assigned_stop_id` ausgefüllt ist, ist es vorzuziehen, die Felder `stop_id` und verwenden Sie nur `stop_sequence`. Wenn `StopTimeProperties.assigned_stop_id` und `stop_id` ausgefüllt sind, `stop_id` muss übereinstimmen `assigned_stop_id`.                                                             |
| **Ankunft**                    | [StopTimeEvent](#message-stoptimeevent)                                          | Bedingt erforderlich | Eine               | Wenn schedule_relationship leer oder SCHEDULED ist, muss entweder arrival oder departure innerhalb eines StopTimeUpdate angegeben werden - beide Felder dürfen nicht leer sein. arrival und departure dürfen beide leer sein, wenn schedule_relationship SKIPPED ist.  Wenn schedule_relationship NO_DATA ist, müssen arrival und departure leer sein.                                                                                                                                                                    |
| **Abfahrt**                    | [StopTimeEvent](#message-stoptimeevent)                                          | Bedingt erforderlich | Eine               | Wenn schedule_relationship leer oder SCHEDULED ist, muss entweder arrival oder departure innerhalb eines StopTimeUpdate angegeben werden - beide Felder dürfen nicht leer sein. arrival und departure dürfen beide leer sein, wenn schedule_relationship SKIPPED ist.  Wenn schedule_relationship NO_DATA ist, müssen arrival und departure leer sein.                                                                                                                                                                    |
| **departure_occupancy_status** | [OccupancyStatus](#enum-occupancystatus)                                         | Fakultativ           | Eine               | Der voraussichtliche Belegungsstatus des Fahrzeugs unmittelbar nach Abfahrt von der angegebenen Haltestelle. Falls vorhanden, muss stop_sequence angegeben werden. Um departure_occupancy_status bereitzustellen, ohne Echtzeit-Ankunfts- oder Abfahrtsprognosen zu liefern, füllen Sie dieses Feld aus und setzen Sie StopTimeUpdate.schedule_relationship = NO_DATA. <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden. |
| **schedule_relationship**      | [ScheduleRelationship](#enum-schedulerelationship)                               | Fakultativ           | Eine               | Die Standardbeziehung ist SCHEDULED.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **stop_time_properties**       | [StopTimeProperties](#message-stoptimeproperties)                                | Fakultativ           | Eine               | Realtime für bestimmte in GTFS stop_times.txt definierte Eigenschaften <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                                                                                                                                 |

## _enum_ ScheduleRelationship (Zeitplan-Beziehung)

Die Beziehung zwischen dieser StopTime und dem statischen Schedule.

**Werte**

| _**Wert**_      | _**Bemerkung**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| --------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **SCHEDULED**   | Das Fahrzeug fährt in Übereinstimmung mit seinem statischen Schedule für Haltestellen, wenn auch nicht unbedingt gemäß den Zeiten des Schedule. Dies ist das **Voreinstellung** Verhalten. Mindestens eine der Ankunfts- und Abfahrtszeiten muss angegeben werden. Bei Fahrten nach FahrplanGTFS frequencies.txt mit exact_times = 0) sollte der Wert SCHEDULED nicht verwendet werden, sondern UNSCHEDULED.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **SKIPPED**     | Die Haltestelle wird übersprungen, d. h. das Fahrzeug hält nicht an dieser Haltestelle. Ankunft und Abfahrt sind optional. Wenn gesetzt `SKIPPED` nicht auf nachfolgende Haltestellen derselben Fahrt übertragen (d. h. das Fahrzeug hält an den nachfolgenden Haltestellen der Fahrt an, es sei denn, diese Haltestellen haben ebenfalls einen `stop_time_update` mit `schedule_relationship: SKIPPED`). Verspätung von einem vorherigen Halt in der Fahrt _tut_ wird über den `SKIPPED` Haltestelle. Mit anderen Worten: Wenn ein `stop_time_update` mit einer `arrival` oder `departure` Vorhersage nicht für einen Halt nach dem `SKIPPED` nicht gesetzt ist, wird die Vorhersage vor der `SKIPPED` Haltestelle auf die Haltestelle nach der `SKIPPED` Haltestelle und die nachfolgenden Haltestellen der Fahrt übertragen, bis eine `stop_time_update` für eine nachfolgende Haltestelle gegeben ist. |
| **NO_DATA**     | Für diese Haltestelle sind keine Daten angegeben. Dies bedeutet, dass keine Realtime verfügbar sind. Wenn NO_DATA gesetzt ist, werden die Daten an die nachfolgenden Haltestellen weitergegeben, so dass dies die empfohlene Methode ist, um anzugeben, ab welcher Haltestelle keine Realtime vorliegen. Wenn NO_DATA gesetzt ist, sollten weder Ankunfts- noch Abfahrtszeiten angegeben werden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **UNSCHEDULED** | Das Fahrzeug fährt eine frequenzbasierte FahrtGTFS frequencies.txt mit exact_times = 0). Dieser Wert sollte nicht für Fahrten verwendet werden, die nicht in GTFS frequencies.txt definiert sind, oder für Fahrten in GTFS frequencies.txt mit exact_times = 1. Fahrten, die `stop_time_updates` mit `schedule_relationship: UNSCHEDULED` definiert sind, müssen auch den TripDescriptor `schedule_relationship: UNSCHEDULED` <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                                                                                                                                                           |

## _Meldung_ StopTimeProperties

Realtime für bestimmte in GTFS stop_times.txt definierte Eigenschaften.

**Achtung:** Diese Meldung ist noch **experimentell** und kann geändert werden. Sie kann in der Zukunft formell angenommen werden.<br/>

**Felder**

| _**Feldname**_                 | _**Typ**_                                                                        | _**Erforderlich**_ | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------------------ | -------------------------------------------------------------------------------- | ------------------ | ------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **zugewiesene_haltestelle_id** | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Fakultativ         | Eine               | Unterstützt die Zuweisung von Haltestellen in Echtzeit. Bezieht sich auf eine `stop_id` die im GTFS definiert ist. `stops.txt`. <br/> Die neue `assigned_stop_id` sollte für den Endnutzer nicht zu einem signifikant anderen Reiseerlebnis führen als der `stop_id` definiert in GTFS `stop_times.txt`. Mit anderen Worten, der Endnutzer sollte diese neue Haltestelle nicht als `stop_id` als "ungewöhnliche Änderung", wenn die neue Haltestelle in einer App ohne zusätzlichen Kontext angezeigt wurde. Zum Beispiel soll dieses Feld für Bahnsteigzuweisungen verwendet werden, indem man ein `stop_id` die zum selben Bahnhof gehört wie die ursprünglich im GTFS definierte Haltestelle `stop_times.txt`. <br/> Um eine Haltestelle zuzuweisen, ohne Echtzeit-Ankunfts- oder Abfahrtsprognosen zu liefern, füllen Sie dieses Feld aus und setzen Sie `StopTimeUpdate.schedule_relationship = NO_DATA`. <br/> Wenn dieses Feld ausgefüllt ist, `StopTimeUpdate.stop_sequence` muss ausgefüllt werden und `StopTimeUpdate.stop_id` sollte nicht ausgefüllt werden. Haltestellenzuweisungen sollten sich auch in anderen GTFS widerspiegeln (z. B., `VehiclePosition.stop_id`). <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden. |

## _Nachricht_ TripProperties

Definiert die aktualisierten Eigenschaften der Fahrt

**Achtung:** Diese Nachricht ist noch **experimentell** und kann sich noch ändern. Sie kann in der Zukunft formell angenommen werden.<br/>.

**Felder**

| _**Feldname**_ | _**Typ**_                                                                        | _**Erforderlich**_   | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| -------------- | -------------------------------------------------------------------------------- | -------------------- | ------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **trip_id**    | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Definiert den Bezeichner einer neuen Fahrt, die ein Duplikat einer bestehenden Fahrt ist, die in (CSV) GTFS trips.txt definiert ist, aber zu einem anderen Abfahrtsdatum und/oder einer anderen Uhrzeit beginnt (definiert durch `TripProperties.start_date` und `TripProperties.start_time`). Siehe Definition von `trips.trip_id` in (CSV) GTFS. Sein Wert muss sich von den in (CSV) GTFS verwendeten Werten unterscheiden. Dieses Feld ist erforderlich, wenn `schedule_relationship` ist `DUPLICATED`, andernfalls darf dieses Feld nicht ausgefüllt werden und wird von den Verbrauchern ignoriert. <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **start_date** | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Datum des Dienstes, an dem die duplizierte Fahrt durchgeführt werden soll. Muss im Format JJJJMMTT angegeben werden. Dieses Feld ist erforderlich, wenn `schedule_relationship` ist `DUPLICATED`, andernfalls darf dieses Feld nicht ausgefüllt werden und wird von den Verbrauchern ignoriert. <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **start_time** | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Definiert die Abfahrtszeit der Fahrt, wenn sie dupliziert wird. Siehe Definition von `stop_times.departure_time` in (CSV) GTFS. Geplante Ankunfts- und Abfahrtszeiten für die duplizierte Reise werden auf der Grundlage des Versatzes zwischen der ursprünglichen Reise `departure_time` und diesem Feld. Wenn eine GTFS zum Beispiel Haltestelle A mit einer `departure_time` von `10:00:00` und Haltestelle B mit `departure_time` von `10:01:00`hat und dieses Feld mit dem Wert `10:30:00`gefüllt wird, hat die Haltestelle B der duplizierten Fahrt eine geplante `departure_time` von `10:31:00`. Echtzeit-Vorhersage `delay` Werte werden auf diese berechnete Schedule angewendet, um die voraussichtliche Zeit zu bestimmen. Wenn zum Beispiel eine Abfahrt `delay` von `30` für die Haltestelle B angegeben ist, dann ist die vorhergesagte Abfahrtszeit `10:31:30`. Echtzeit-Vorhersage `time` Die Werte der Echtzeitvorhersage werden nicht auf sie angewandt und zeigen die voraussichtliche Zeit wie angegeben an.  Wenn zum Beispiel eine Abfahrt `time` 10:31:30 für die Haltestelle B angegeben ist, dann ist die voraussichtliche Abfahrtszeit `10:31:30`Dieses Feld ist erforderlich, wenn `schedule_relationship` ist `DUPLICATED`, andernfalls darf dieses Feld nicht ausgefüllt werden und wird von den Verbrauchern ignoriert. <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden. |
| **shape_id**   | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Fakultativ           | Eine               | Gibt die Form der Fahrstrecke für diese Fahrt an, wenn sie vom Original abweicht. Bezieht sich auf einen im (CSV) GTFS definierten Shape oder eine neue Shape-Entität in einem Echtzeit-Feed. Siehe Definition der `trips.shape_id` in (CSV) GTFS. <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

## _Nachricht_ VehiclePosition

Realtime für ein bestimmtes Fahrzeug.

**Felder**

| _**Feldname**_                   | _**Typ**_                                                                        | _**Erforderlich**_ | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| -------------------------------- | -------------------------------------------------------------------------------- | ------------------ | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Reise**                        | [TripDescriptor](#message-tripdescriptor)                                        | Fakultativ         | Eine               | Die Fahrt, die dieses Fahrzeug bedient. Kann leer oder unvollständig sein, wenn das Fahrzeug nicht mit einer bestimmten Fahrtinstanz identifiziert werden kann.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Fahrzeug**                     | [FahrzeugDeskriptor](#message-vehicledescriptor)                                 | Fakultativ         | Eine               | Zusätzliche Informationen über das Fahrzeug, das diese Fahrt durchführt. Jeder Eintrag sollte eine **eindeutig** Fahrzeug-ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Position**                     | [Standort](#message-position)                                                    | Fakultativ         | Eine               | Aktuelle Position des Fahrzeugs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **aktuelle_haltestelle_sequenz** | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar)       | Fakultativ         | Eine               | Der Haltestellenfolgeindex der aktuellen Haltestelle. Die Bedeutung von current_stop_sequence (d. h. die Haltestelle, auf die er sich bezieht) wird durch current_status bestimmt. Wenn current_status fehlt, wird IN_TRANSIT_TO angenommen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **stop_id**                      | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Fakultativ         | Eine               | Identifiziert die aktuelle Haltestelle. Der Wert muss derselbe sein wie in stops.txt im entsprechenden GTFS. Wenn `StopTimeProperties.assigned_stop_id` verwendet wird, um eine `stop_id`verwendet wird, sollte dieses Feld auch die Änderung in `stop_id`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **aktueller_status**             | [FahrzeugStopStatus](#enum-vehiclestopstatus)                                    | Fakultativ         | Eine               | Der genaue Status des Fahrzeugs in Bezug auf die aktuelle Haltestelle. Wird ignoriert, wenn current_stop_sequence nicht vorhanden ist.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **Zeitstempel**                  | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar)       | Fakultativ         | Eine               | Zeitpunkt, zu dem die Position des Fahrzeugs gemessen wurde. In POSIX-Zeit (d. h. die Anzahl der Sekunden seit dem 1. Januar 1970 00:00:00 UTC).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Stau_Level**                   | [CongestionLevel](#enum-congestionlevel)                                         | Fakultativ         | Eine               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **besetzung_status**             | [OccupancyStatus](#enum-occupancystatus)                                         | _Fakultativ_       | Eine               | Stand der Fahrgastbelegung für das Fahrzeug oder den Wagen. Wenn multi_carriage_details mit dem Belegungsstatus pro Wagen ausgefüllt ist, sollte dieses Feld das gesamte Fahrzeug beschreiben, wobei alle Wagen, die Fahrgäste aufnehmen, berücksichtigt werden.<br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **belegung_prozentual**          | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar)       | Fakultativ         | Eine               | Ein Prozentwert, der den Grad der Fahrgastbelegung des Fahrzeugs angibt. Der Wert 100 sollte die maximale Gesamtbelegung darstellen, für die das Fahrzeug ausgelegt ist, einschließlich Sitz- und Stehplätzen, und die nach den geltenden Betriebsvorschriften zulässig ist. Der Wert kann 100 überschreiten, wenn mehr Fahrgäste als die maximal vorgesehene Kapazität vorhanden sind. Die Genauigkeit von occupancy_percentage sollte so gering sein, dass einzelne Fahrgäste beim Ein- und Aussteigen nicht erfasst werden können. Wenn multi_carriage_details mit occupancy_percentage per carriage ausgefüllt ist, sollte dieses Feld das gesamte Fahrzeug beschreiben, wobei alle Wagen, die Fahrgäste aufnehmen, berücksichtigt werden.<br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden. |
| **multi_carriage_details**       | [CarriageDetails](#message-CarriageDetails)                                      | Fakultativ         | Viele              | Angaben zu den mehreren Wagen des betreffenden Fahrzeugs. Das erste Vorkommen stellt den ersten Wagen des Fahrzeugs dar, **unter Berücksichtigung der aktuellen Fahrtrichtung**. Die Anzahl der Vorkommen des Feldes multi_carriage_details entspricht der Anzahl der Waggons des Fahrzeugs. Es umfasst auch nicht einstiegsfähige Wagen, wie Lokomotiven, Wartungswagen usw., da sie den Fahrgästen wertvolle Informationen darüber liefern, wo sie auf einem Bahnsteig stehen müssen.<br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                                                                                        |

## _enum_ VehicleStopStatus

**Werte**

| _**Wert**_        | _**Bemerkung**_                                                                                                                     |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| **EINKOMMEND_AT** | Das Fahrzeug steht kurz vor der Ankunft an der Haltestelle (auf einer Haltestellenanzeige blinkt normalerweise das Fahrzeugsymbol). |
| **STOPPED_AT**    | Das Fahrzeug steht an der Haltestelle.                                                                                              |
| **IN_TRANSIT_TO** | Das Fahrzeug hat die vorherige Haltestelle verlassen und befindet sich auf der Durchfahrt.                                          |

## _enum_ CongestionLevel

Stauebene, von der dieses Fahrzeug betroffen ist.

**Werte**

| _**Wert**_                   |
| ---------------------------- |
| **UNKNOWN_CONGESTION_LEVEL** |
| **LÄUFT_RUHIG**              |
| **STOP_AND_GO**              |
| **VERSTÄNDNIS**              |
| **SCHWERE_STAUUNG**          |

## _enum OccupancyStatus_

Status der Fahrgastbelegung für das Fahrzeug oder den Wagen.

Einzelne Hersteller veröffentlichen möglicherweise nicht alle OccupancyStatus-Werte. Daher dürfen die Verbraucher nicht davon ausgehen, dass die OccupancyStatus-Werte einer linearen Skala folgen. Die Verbraucher sollten die OccupancyStatus-Werte als den vom Hersteller angegebenen und beabsichtigten Zustand darstellen. Ebenso müssen die Hersteller OccupancyStatus-Werte verwenden, die den tatsächlichen Belegungszuständen der Fahrzeuge entsprechen.

Für die Beschreibung von Belegungsgraden auf einer linearen Skala, siehe `occupancy_percentage`.

**Achtung:** Dieses Feld ist noch **experimentell** und kann sich noch ändern. Es kann in der Zukunft formell angenommen werden.

_**Werte**_

| _**Wert**_                        | _**Bemerkung**_                                                                                                                                                                                                                                                                         |
| --------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| _**LEER**_                        | _Das Fahrzeug gilt nach den meisten Maßstäben als leer und hat nur wenige oder keine Fahrgäste an Bord, nimmt aber noch Fahrgäste auf._                                                                                                                                                 |
| _**VIELE_SITZE_VERFÜGBAR**_       | _Das Fahrzeug oder der Wagen verfügt über eine große Anzahl von freien Sitzplätzen. Die Anzahl der freien Sitze im Verhältnis zur Gesamtzahl der verfügbaren Sitze, die als groß genug gelten, um in diese Kategorie zu fallen, wird vom Hersteller nach eigenem Ermessen festgelegt._  |
| _**WENIGE_SITZPLÄTZE_VERFÜGBAR**_ | _Das Fahrzeug oder der Wagen verfügt über eine geringe Anzahl von Sitzplätzen. Es liegt im Ermessen des Herstellers, wie viele freie Sitzplätze im Verhältnis zu den insgesamt zur Verfügung stehenden Sitzplätzen als gering genug angesehen werden, um in diese Kategorie zu fallen._ |
| _**NUR STEHPLÄTZE**_              | _Das Fahrzeug oder der Wagen kann derzeit nur stehende Fahrgäste aufnehmen._                                                                                                                                                                                                            |
| _**GEQUETSCHTE_STEHPLÄTZE_NUR**_  | _Das Fahrzeug oder der Wagen kann derzeit nur stehende Fahrgäste aufnehmen und hat nur wenig Platz für diese._                                                                                                                                                                          |
| _**FULL**_                        | _Das Fahrzeug gilt nach den meisten Maßstäben als voll, lässt aber möglicherweise noch Fahrgäste einsteigen._                                                                                                                                                                           |
| _**KEINE_FAHRGÄSTE_ANNEHMEND**_   | _Das Fahrzeug oder der Wagen nimmt keine Fahrgäste auf. Das Fahrzeug oder der Wagen nimmt normalerweise Fahrgäste zum Einsteigen auf._                                                                                                                                                  |
| _**NO_DATA_AVAILABLE**_           | _Für das Fahrzeug oder den Wagen sind zu diesem Zeitpunkt keine Belegungsdaten verfügbar._                                                                                                                                                                                              |
| _**NOT_BOARDABLE**_               | _Das Fahrzeug oder der Wagen ist nicht besteigbar und nimmt nie Fahrgäste auf. Nützlich für spezielle Fahrzeuge oder Wagen (Lokomotive, Wartungswagen, etc...)._                                                                                                                        |

## _Meldung_ CarriageDetails

Wagenspezifische Details, verwendet für Fahrzeuge, die aus mehreren Wagen bestehen.

**Achtung:** Diese Nachricht ist noch **experimentell** und kann sich noch ändern. Sie kann in der Zukunft formell angenommen werden.

**Felder**

| _**Feldname**_          | _**Typ**_                                                                        | _**Erforderlich**_ | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ----------------------- | -------------------------------------------------------------------------------- | ------------------ | ------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **id**                  | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Fakultativ         | Eine               | Identifizierung des Wagens. Sollte für jedes Fahrzeug eindeutig sein. <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Bezeichnung**         | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Fakultativ         | Eine               | Vom Benutzer sichtbare Beschriftung, die dem Fahrgast angezeigt werden kann, um die Identifizierung des Wagens zu erleichtern. Beispiel: "7712", "Wagen ABC-32", usw... <br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **besetzung_status**    | [OccupancyStatus](#enum-occupancystatus)                                         | Fakultativ         | Eine               | Belegungsstatus für diesen bestimmten Wagen in diesem Fahrzeug. Standardwert ist `NO_DATA_AVAILABLE`.<br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **belegung_prozentual** | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar)        | Fakultativ         | Eine               | Belegungsprozentsatz für diesen bestimmten Wagen, in diesem Fahrzeug. Folgt den gleichen Regeln wie "VehiclePosition.occupancy_percentage". Verwenden Sie -1, wenn für den betreffenden Wagen keine Daten verfügbar sind.<br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **Wagen_Reihenfolge**   | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar)       | Erforderlich       | Eine               | Gibt die Reihenfolge dieses Wagens in Bezug auf die anderen Wagen in der CarriageStatus-Liste des Fahrzeugs an. Der erste Wagen in der Fahrtrichtung muss den Wert 1 haben, der zweite Wert entspricht dem zweiten Wagen in der Fahrtrichtung und muss den Wert 2 haben, usw. Beispiel: Der erste Wagen in Fahrtrichtung hat den Wert 1. Wenn der zweite Wagen in Fahrtrichtung den Wert 3 hat, verwerfen die Verbraucher die Daten für alle Wagen (d. h. das Feld multi_carriage_details). Wagen ohne Daten müssen mit einer gültigen carriage_sequence-Nummer dargestellt werden, und die Felder ohne Daten sollten weggelassen werden (alternativ könnten diese Felder auch einbezogen und auf die Werte "no data" gesetzt werden). <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden. |

## _Nachricht_ Warnung

Eine Warnung, die auf eine Art von Vorfall im öffentlichen Verkehrsnetz hinweist.

**Felder**

| _**Feldname**_              | _**Typ**_                                     | _**Erforderlich**_ | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| --------------------------- | --------------------------------------------- | ------------------ | ------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **aktiv_Zeitraum**          | [ZeitRange](#message-timerange)               | Fakultativ         | Viele              | Zeit, in der die Meldung dem Benutzer angezeigt werden soll. Fehlt diese Angabe, wird die Meldung so lange angezeigt, wie sie im Feed erscheint. Wenn mehrere Zeiträume angegeben werden, wird die Meldung während aller Zeiträume angezeigt.                                                                                                                                                                                                                                                                                                                                                                                                   |
| **informierte_Einheit**     | [EntitySelector](#message-entityselector)     | Erforderlich       | Viele              | Entitäten, deren Benutzer über diese Meldung informiert werden sollen.  Es muss mindestens eine informierte_Einheit angegeben werden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **Ursache**                 | [Ursache](#enum-cause)                        | Fakultativ         | Eine               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Wirkung**                 | [Wirkung](#enum-effect)                       | Fakultativ         | Eine               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **url**                     | [TranslatedString](#message-translatedstring) | Fakultativ         | Eine               | Die URL, die zusätzliche Informationen über die Meldung enthält.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **header_text**             | [TranslatedString](#message-translatedstring) | Erforderlich       | Eine               | Kopfzeile der Meldung. Dieser Klartext wird hervorgehoben, z. B. in Fettschrift.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **beschreibung_text**       | [TranslatedString](#message-translatedstring) | Erforderlich       | Eine               | Beschreibung für die Meldung. Diese Klartext-Zeichenfolge wird als Text der Meldung formatiert (oder auf ausdrückliche Anfrage des Benutzers angezeigt). Die Informationen in der Beschreibung sollten die Informationen in der Kopfzeile ergänzen.                                                                                                                                                                                                                                                                                                                                                                                             |
| **tts_header_text**         | [TranslatedString](#message-translatedstring) | Fakultativ         | Eine               | Text, der die Überschrift der Meldung enthält und für Text-to-Speech-Implementierungen verwendet werden soll. Dieses Feld ist die Text-to-Speech-Version von header_text. Es sollte die gleichen Informationen wie header_text enthalten, aber so formatiert sein, dass es als Text-to-Speech gelesen werden kann (z. B. Abkürzungen entfernt, Zahlen buchstabiert usw.)                                                                                                                                                                                                                                                                        |
| **tts_beschreibung_text**   | [TranslatedString](#message-translatedstring) | Fakultativ         | Eine               | Text mit einer Beschreibung der Ausschreibung, die für Text-to-Speech-Implementierungen verwendet werden soll. Dieses Feld ist die Text-to-Speech-Version von description_text. Es sollte die gleichen Informationen wie description_text enthalten, aber so formatiert sein, dass es als Text-to-Speech gelesen werden kann (z. B. Abkürzungen entfernt, Zahlen buchstabiert usw.)                                                                                                                                                                                                                                                             |
| **severity_level**          | [Schweregrad](#enum-severitylevel)            | Fakultativ         | Eine               | Schweregrad der Meldung.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Bild**                    | [TranslatedImage](#message-translatedimage)   | Fakultativ         | Eine               | TranslatedImage, das zusammen mit dem Warntext angezeigt wird. Wird verwendet, um die Auswirkungen einer Umleitung, Bahnhofsschließung usw. visuell zu erläutern. Das Bild sollte das Verständnis der Warnung verbessern und darf nicht die einzige Stelle sein, an der die wesentlichen Informationen zu finden sind. Von folgenden Arten von Bildern wird abgeraten: Bilder, die hauptsächlich Text enthalten, Marketing- oder Markenbilder, die keine zusätzlichen Informationen liefern. <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden. |
| **image_alternativer_text** | [TranslatedString](#message-translatedstring) | Fakultativ         | Eine               | Text, der das Aussehen des verlinkten Bildes in dem `image` Feld (z. B. für den Fall, dass das Bild nicht angezeigt werden kann oder der Nutzer das Bild aus Gründen der Barrierefreiheit nicht sehen kann). Siehe die HTML [Spezifikation für alt image text](https://html.spec.whatwg.org/#alt). <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                                                           |

## _enum_ Ursache

Ursache für diese Meldung.

**Werte**

| _**Wert**_                |
| ------------------------- |
| **UNKNOWN_CAUSE**         |
| **ANDERE_URSACHE**        |
| **TECHNISCHES_PROBLEM**   |
| **STRIKE**                |
| **DEMONSTRATION**         |
| **UNFALL**                |
| **URLAUB**                |
| **WETTER**                |
| **WARTUNG**               |
| **BAUARBEITEN**           |
| **POLIZEI_AKTIVITÄT**     |
| **MEDIZINISCHER_NOTFALL** |

## _enum_ Auswirkung

Die Auswirkung dieses Problems auf die betroffene Einrichtung.

**Werte**

| _**Wert**_                   |
| ---------------------------- |
| **KEIN_DIENST**              |
| **REDUZIERTER_DIENST**       |
| **ERHEBLICHE_VERZÖGERUNGEN** |
| **DETOUR**                   |
| **ZUSÄTZLICHER_DIENST**      |
| **GEÄNDERTE_DIENSTLEISTUNG** |
| **ANDERE_EFFEKTE**           |
| **UNBEKANNTER_EFFEKT**       |
| **STOP_MOVED**               |
| **NO_EFFECT**                |
| **ACCESSIBILITY_ISSUE**      |

## _enum_ SeverityLevel

Der Schweregrad des Alarms.

**Achtung:** Dieses Feld ist noch **experimentell** und kann sich noch ändern. Es kann in der Zukunft formell angenommen werden.

**Werte**

| _**Wert**_                |
| ------------------------- |
| **UNBEKANNT_SCHWEREGRAD** |
| **INFO**                  |
| **WARNUNG**               |
| **SEVERE**                |

## _Meldung_ TimeRange

Ein Zeitintervall. Das Intervall gilt zum Zeitpunkt `t` als aktiv, wenn `t` größer oder gleich der Startzeit und kleiner als die Endzeit ist.

**Felder**

| _**Feldname**_ | _**Typ**_                                                                  | _**Erforderlich**_   | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                    |
| -------------- | -------------------------------------------------------------------------- | -------------------- | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Anfang**     | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Startzeit, in POSIX-Zeit (d. h. Anzahl der Sekunden seit dem 1. Januar 1970 00:00:00 UTC). Fehlt diese Angabe, beginnt das Intervall bei minus unendlich.  Wenn ein Zeitbereich angegeben wird, muss entweder Start oder Ende angegeben werden - beide Felder dürfen nicht leer sein. |
| **Ende**       | [uint64](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Endzeit, in POSIX-Zeit (d. h. die Anzahl der Sekunden seit dem 1. Januar 1970 00:00:00 UTC). Fehlt dieses Feld, endet das Intervall bei plus unendlich. Wird ein TimeRange angegeben, muss entweder start oder end angegeben werden - beide Felder dürfen nicht leer sein.            |

## _Nachricht_ Position

Eine geografische Position eines Fahrzeugs.

**Felder**

| _**Feldname**_      | _**Typ**_                                                                   | _**Erforderlich**_ | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                       |
| ------------------- | --------------------------------------------------------------------------- | ------------------ | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Breitengrad**     | [float](https://developers.google.com/protocol-buffers/docs/proto#scalar)   | Erforderlich       | Eine               | Grad Nord, im WGS-84-Koordinatensystem.                                                                                                                                                                                                                                                                                  |
| **Längengrad**      | [float](https://developers.google.com/protocol-buffers/docs/proto#scalar)   | Erforderlich       | Eine               | Grad Ost, im WGS-84-Koordinatensystem.                                                                                                                                                                                                                                                                                   |
| **Peilung**         | [float](https://developers.google.com/protocol-buffers/docs/proto#scalar)   | Fakultativ         | Eine               | Peilung, in Grad, im Uhrzeigersinn von True North, d. h. 0 ist Norden und 90 ist Osten. Dies kann die Kompasspeilung sein oder die Richtung zum nächsten Halt oder Zwischenziel. Die Peilung sollte nicht aus der Abfolge der vorherigen Positionen abgeleitet werden, die der Client aus früheren Daten berechnen kann. |
| **Kilometerzähler** | [doppelt](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Fakultativ         | Eine               | Wert des Kilometerzählers, in Metern.                                                                                                                                                                                                                                                                                    |
| **Geschwindigkeit** | [float](https://developers.google.com/protocol-buffers/docs/proto#scalar)   | Fakultativ         | Eine               | Vom Fahrzeug gemessene momentane Geschwindigkeit, in Metern pro Sekunde.                                                                                                                                                                                                                                                 |

## _Meldung_ TripDescriptor

Ein Deskriptor, der eine einzelne Instanz einer GTFS identifiziert.

Zur Angabe einer einzelnen Fahrt reicht in vielen Fällen die `trip_id` allein aus. In den folgenden Fällen sind jedoch zusätzliche Informationen erforderlich, um eine einzelne Fahrtinstanz aufzulösen:

*   Für Reisen, die in frequencies.txt definiert sind, sind neben der `trip_id` auch `start_date` und `start_time` erforderlich
*   Wenn die Reise mehr als 24 Stunden dauert oder sich so verzögert, dass sie mit einer geplanten Reise am nächsten Tag kollidieren würde, ist zusätzlich zu `trip_id` auch `start_date` erforderlich
*   Wenn das Feld `trip_id` nicht angegeben werden kann, müssen `route_id`, `direction_id`, `start_date` und `start_time` angegeben werden

Wenn zusätzlich zur `trip_id` auch die `route_id` angegeben wird, muss es sich in jedem Fall um dieselbe `route_id` handeln, die der betreffenden Fahrt in GTFS trips.txt zugewiesen wurde.

Das Feld `trip_id` kann weder allein noch in Kombination mit anderen TripDescriptor-Feldern verwendet werden, um mehrere Reiseinstanzen zu identifizieren. Zum Beispiel sollte ein TripDescriptor niemals trip_id allein für GTFS frequencies.txt exact_times=0 Fahrten angeben, weil start_time auch erforderlich ist, um eine einzelne Fahrtinstanz aufzulösen, die zu einer bestimmten Tageszeit beginnt. Wenn der TripDescriptor nicht auf eine einzelne Fahrtinstanz aufgelöst wird (d.h. er wird auf null oder mehrere Fahrtinstanzen aufgelöst), wird dies als Fehler betrachtet und die Entität, die den fehlerhaften TripDescriptor enthält, kann von den Verbrauchern verworfen werden.

Wenn die trip_id nicht bekannt ist, reichen die station sequence ids in TripUpdate nicht aus, und die stop_ids müssen ebenfalls angegeben werden. Darüber hinaus müssen die absoluten Ankunfts-/Abfahrtszeiten angegeben werden.

TripDescriptor.route_id kann nicht innerhalb eines Alert EntitySelector verwendet werden, um eine streckenweite Ausschreibung zu spezifizieren, die alle Fahrten für eine Strecke betrifft - verwenden Sie stattdessen EntitySelector.route_id.

**Felder**

| _**Feldname**_            | _**Typ**_                                                                        | _**Erforderlich**_   | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ------------------------- | -------------------------------------------------------------------------------- | -------------------- | ------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **trip_id**               | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Die trip_id aus dem GTFS, auf den sich dieser Selektor bezieht. Bei nicht frequenzbasierten Fahrten (Fahrten, die nicht in GTFS frequencies.txt definiert sind) reicht dieses Feld zur eindeutigen Identifizierung der Fahrt aus. Für Fahrten, die in GTFS frequencies frequencies.txt definiert sind, sind trip_id, start_time und start_date erforderlich. Bei fahrplanmäßigen Fahrten (Fahrten, die nicht in GTFS frequencies.txt definiert sind) kann trip_id nur weggelassen werden, wenn die Fahrt durch eine Kombination aus route_id, direction_id, start_time und start_date eindeutig identifiziert werden kann und alle diese Felder vorhanden sind. Wenn schedule_relationship innerhalb eines TripUpdate DUPLICATED ist, identifiziert die trip_id die zu duplizierende Fahrt aus dem statischen GTFS. Wenn schedule_relationship innerhalb einer VehiclePosition DUPLICATED ist, identifiziert die trip_id die neue duplizierte Fahrt und muss den Wert für die entsprechende TripUpdate.TripProperties.trip_id enthalten.                                                                                                                                                                         |
| **route_id**              | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Die route_id aus dem GTFS, auf die sich dieser Selektor bezieht. Wenn trip_id weggelassen wird, müssen route_id, direction_id, start_time und schedule_relationship=SCHEDULED gesetzt werden, um eine Reiseinstanz zu identifizieren. TripDescriptor.route_id sollte nicht innerhalb eines Alert EntitySelector verwendet werden, um eine streckenweite Ausschreibung zu spezifizieren, die alle Fahrten für eine Strecke betrifft - verwenden Sie stattdessen EntitySelector.route_id.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **richtungs_id**          | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar)       | Bedingt erforderlich | Eine               | Die direction_id aus der GTFS trips.txt, die die Fahrtrichtung für Fahrten angibt, auf die sich dieser Selektor bezieht. Wenn trip_id weggelassen wird, muss direction_id angegeben werden. <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **start_time**            | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Die ursprünglich vorgesehene Startzeit dieser Reise-Instanz. Wenn die trip_id einer nicht frequenzbasierten Fahrt entspricht, sollte dieses Feld entweder weggelassen werden oder dem Wert im GTFS entsprechen. Wenn die trip_id einer frequenzbasierten Fahrt entspricht, die in GTFS frequencies.txt definiert ist, ist start_time erforderlich und muss für Fahrtaktualisierungen und Fahrzeugpositionen angegeben werden. Wenn die Fahrt einem GTFS mit exact_times=1 entspricht, muss start_time ein Vielfaches (einschließlich Null) von headway_secs nach der frequencies.txt start_time für den entsprechenden Zeitraum liegen. Entspricht die Fahrt exact_times=0, dann kann die start_time beliebig sein und wird zunächst als erste Abfahrt der Fahrt erwartet. Einmal festgelegt, sollte die start_time dieser frequenzbasierten exact_times=0-Fahrt als unveränderlich angesehen werden, auch wenn sich die erste Abfahrtszeit ändert - diese Zeitänderung kann stattdessen in einem StopTimeUpdate berücksichtigt werden. Wenn trip_id weggelassen wird, muss start_time angegeben werden. Format und Semantik des Feldes entsprechen denen von GTFSfrequencies.txt, z. B. 11:15:35 oder 25:15:35. |
| **start_date**            | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Das Startdatum dieser Fahrtinstanz im Format JJJJMMTT. Bei planmäßigen Fahrten (Fahrten, die nicht in GTFS frequencies.txt definiert sind) muss dieses Feld angegeben werden, um Fahrten zu unterscheiden, die so spät sind, dass sie mit einer planmäßigen Fahrt am nächsten Tag kollidieren. Bei einem Zug, der beispielsweise jeden Tag um 8:00 und 20:00 Uhr abfährt und 12 Stunden Verspätung hat, gäbe es zwei verschiedene Fahrten zur gleichen Zeit. Dieses Feld kann, muss aber nicht bei Fahrplänen angegeben werden, bei denen solche Kollisionen unmöglich sind - z. B. bei einem Schedule verkehrenden Dienst, bei dem ein Fahrzeug, das eine Stunde Verspätung hat, nicht mehr als mit dem Schedule verbunden gilt. Dieses Feld ist für frequenzbasierte Fahrten erforderlich, die in GTFS frequencies.txt definiert sind. Wenn trip_id weggelassen wird, muss start_date angegeben werden.                                                                                                                                                                                                                                                                                                        |
| **schedule_relationship** | [ScheduleRelationship](#enum-schedulerelationship-1)                             | Fakultativ           | Eine               | Die Beziehung zwischen dieser Fahrt und dem statischen Schedule. Wenn TripDescriptor in einem Alert angegeben ist `EntitySelector`Die Spalte `schedule_relationship` wird das Feld von den Verbrauchern ignoriert, wenn sie die passende Reiseinstanz identifizieren.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

## _enum_ ScheduleRelationship (Zeitplan-Beziehung)

Die Beziehung zwischen dieser Reise und dem statischen Schedule. Wenn eine Reise nach einem vorläufigen Schedule durchgeführt wird, der nicht in GTFS enthalten ist, sollte sie nicht als SCHEDULED, sondern als ADDED gekennzeichnet werden.

**Werte**

| _**Wert**_      | _**Bemerkung**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| --------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **SCHEDULED**   | Eine Fahrt, die in Übereinstimmung mit ihrem Schedule durchgeführt wird oder nahe genug an der geplanten Fahrt liegt, um ihr zugeordnet zu werden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **HINZUFÜGEN**  | Eine zusätzliche Fahrt, die zusätzlich zu einem laufenden Schedule hinzugefügt wurde, z. B. um ein defektes Fahrzeug zu ersetzen oder um auf ein plötzliches Fahrgastaufkommen zu reagieren. _HINWEIS: Derzeit ist das Verhalten von Feeds, die diesen Modus verwenden, nicht spezifiziert. Es gibt Diskussionen auf dem GTFS GitHub [(1)](https://github.com/google/transit/issues/106) [(2)](https://github.com/google/transit/pull/221) [(3)](https://github.com/google/transit/pull/219) um die vollständige Spezifizierung oder Ablehnung von ADDED-Trips und die Dokumentation wird aktualisiert, sobald diese Diskussionen abgeschlossen sind._                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **UNSCHEDULED** | Eine Fahrt, die läuft, ohne dass ihr ein Schedule zugeordnet ist - dieser Wert wird verwendet, um Fahrten zu identifizieren, die in GTFS frequencies.txt mit exact_times = 0 definiert sind. Er sollte nicht verwendet werden, um Fahrten zu beschreiben, die nicht in GTFS frequencies.txt definiert sind, oder Fahrten in GTFS frequencies.txt mit exact_times = 1. Fahrten mit `schedule_relationship: UNSCHEDULED` müssen ebenfalls alle StopTimeUpdates setzen `schedule_relationship: UNSCHEDULED`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **CANCELED**    | Eine Fahrt, die im Schedule vorhanden war, aber entfernt wurde.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **DUPLICATED**  | Eine neue Fahrt, die bis auf das Datum und die Uhrzeit des Dienstbeginns mit einer bestehenden geplanten Fahrt identisch ist. Verwendet mit `TripUpdate.TripProperties.trip_id`, `TripUpdate.TripProperties.start_date`, und `TripUpdate.TripProperties.start_time` um eine bestehende Fahrt aus dem statischen GTFS zu kopieren, aber mit einem anderen Startdatum und/oder einer anderen Startzeit. Das Duplizieren einer Fahrt ist zulässig, wenn der Dienst, der mit der ursprünglichen Fahrt in (CSV) GTFS (in `calendar.txt` oder `calendar_dates.txt`) innerhalb der nächsten 30 Tage durchgeführt wird. Die zu duplizierende Fahrt wird über `TripUpdate.TripDescriptor.trip_id`. <br/><br/> Diese Aufzählung ändert nicht die bestehende Reise, auf die durch `TripUpdate.TripDescriptor.trip_id` - Wenn ein Hersteller die ursprüngliche Reise stornieren möchte, muss er eine separate `TripUpdate` mit dem Wert CANCELED veröffentlichen. In GTFS definierte Fahrten `frequencies.txt` mit `exact_times` definierte Reise, die leer ist oder den Wert `0` können nicht dupliziert werden. Die `VehiclePosition.TripDescriptor.trip_id` für die neue Fahrt muss den passenden Wert aus `TripUpdate.TripProperties.trip_id` und `VehiclePosition.TripDescriptor.ScheduleRelationship` muss ebenfalls gesetzt werden auf `DUPLICATED`.  <br/><br/>_Bestehende Erzeuger und Verbraucher, die die Aufzählung ADDED zur Darstellung doppelter Fahrten verwendet haben, müssen den [Migrationsanleitung](https://github.com/google/transit/blob/master/gtfs-realtime/spec/en/examples/migration-duplicated.md) folgen, um auf die Aufzählung DUPLICATED umzustellen._ |

## _Nachricht_ VehicleDescriptor

Identifizierungsinformationen für das Fahrzeug, das die Fahrt durchführt.

**Felder**

| _**Feldname**_      | _**Typ**_                                                                        | _**Erforderlich**_ | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                   |
| ------------------- | -------------------------------------------------------------------------------- | ------------------ | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **id**              | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Fakultativ         | Eine               | Interne Systemkennung des Fahrzeugs. Sollte **eindeutig** pro Fahrzeug angegeben werden und dient der Verfolgung des Fahrzeugs auf seinem Weg durch das System. Diese Kennung sollte für den Endbenutzer nicht sichtbar sein; verwenden Sie zu diesem Zweck die **Bezeichnung** Feld |
| **Bezeichnung**     | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Fakultativ         | Eine               | Benutzer sichtbares Etikett, d. h. etwas, das dem Fahrgast gezeigt werden muss, um das richtige Fahrzeug zu identifizieren.                                                                                                                                                          |
| **kfz_kennzeichen** | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Fakultativ         | Eine               | Das Nummernschild des Fahrzeugs.                                                                                                                                                                                                                                                     |

## _Nachricht_ EntitySelector

Ein Selektor für eine Entität in einem GTFS. Die Werte der Felder sollten mit den entsprechenden Feldern im GTFS übereinstimmen. Es muss mindestens ein Spezifizierer angegeben werden. Wenn mehrere angegeben werden, sollten sie als durch den logischen `UND-Operator` verbunden interpretiert werden. Außerdem muss die Kombination der Spezifizierer mit den entsprechenden Informationen im GTFS übereinstimmen. Mit anderen Worten: Damit sich eine Ausschreibung auf eine Entität in GTFS beziehen kann, muss sie mit allen angegebenen EntitySelector-Feldern übereinstimmen. Ein EntitySelector, der zum Beispiel die Felder `route_id`: "5" und `route_type: "3"` enthält, gilt nur für den `route_id`: "5" Bus - er gilt nicht für andere Routen mit `route_type: "3"`. Wenn ein Hersteller möchte, dass eine Ausschreibung sowohl für `route_id`: "5" als auch für `route_type: "3"` gelten soll, sollte er zwei separate EntitySelectors bereitstellen, einen mit Verweis auf `route_id`: "5" und einen anderen mit Verweis auf `route_type: "3`".

Es muss mindestens ein Spezifizierer angegeben werden - alle Felder in einem EntitySelector dürfen nicht leer sein.

**Felder**

| _**Feldname**_   | _**Typ**_                                                                        | _**Erforderlich**_   | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                                                                   |
| ---------------- | -------------------------------------------------------------------------------- | -------------------- | ------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **agency_id**    | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Die agency_id aus dem GTFS, auf den sich dieser Selektor bezieht.                                                                                                                                                                                                                                                                                                                                                    |
| **route_id**     | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Die route_id aus dem GTFS, auf die sich dieser Selektor bezieht. Wenn direction_id angegeben wird, muss route_id ebenfalls angegeben werden.                                                                                                                                                                                                                                                                         |
| **route_type**   | [int32](https://developers.google.com/protocol-buffers/docs/proto#scalar)        | Bedingt erforderlich | Eine               | Der route_type aus dem GTFS, auf den sich dieser Selektor bezieht.                                                                                                                                                                                                                                                                                                                                                   |
| **richtungs_id** | [uint32](https://developers.google.com/protocol-buffers/docs/proto#scalar)       | Bedingt erforderlich | Eine               | Die direction_id aus der GTFS feed trips.txt, die verwendet wird, um alle Fahrten in einer Richtung für eine Route auszuwählen, die durch route_id angegeben wird. Wenn direction_id angegeben wird, muss route_id ebenfalls angegeben werden. <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.<br/>               |
| **Reise**        | [TripDescriptor](#message-tripdescriptor)                                        | Bedingt erforderlich | Eine               | Die Fahrteninstanz aus dem GTFS, auf die sich dieser Selektor bezieht. Dieser TripDescriptor muss sich auf eine einzelne Fahrtinstanz in den GTFS beziehen (z. B. kann ein Hersteller nicht nur eine trip_id für exact_times=0-Fahrten angeben). Wenn das Feld ScheduleRelationship in diesem TripDescriptor ausgefüllt ist, wird es von den Verbrauchern ignoriert, wenn sie versuchen, die GTFS zu identifizieren. |
| **stop_id**      | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | Die stop_id aus dem GTFS, auf den sich dieser Selektor bezieht.                                                                                                                                                                                                                                                                                                                                                      |

## _message_ TranslatedString

Eine internationalisierte Nachricht mit sprachabhängigen Versionen eines Textabschnitts oder einer URL. Eine der Zeichenketten aus einer Nachricht wird übernommen. Bei der Auflösung wird wie folgt vorgegangen: Wenn die language der Benutzeroberfläche mit dem language einer Übersetzung übereinstimmt, wird die erste passende Übersetzung ausgewählt. Wenn eine language (z. B. Englisch) mit dem language einer Übersetzung übereinstimmt, wird die erste passende Übersetzung ausgewählt. Wenn eine Übersetzung einen nicht spezifizierten language hat, wird diese Übersetzung ausgewählt.

**Felder**

| _**Feldname**_  | _**Typ**_                           | _**Erforderlich**_ | _**Kardinalität**_ | _**Beschreibung**_                                    |
| --------------- | ----------------------------------- | ------------------ | ------------------ | ----------------------------------------------------- |
| **Übersetzung** | [Übersetzung](#message-translation) | Erforderlich       | Viele              | Es muss mindestens eine Übersetzung angegeben werden. |

## _message_ Übersetzung

Eine lokalisierte Zeichenfolge, die einer language zugeordnet ist.

| _**Feldname**_ | _**Typ**_                                                                        | _**Erforderlich**_   | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                        |
| -------------- | -------------------------------------------------------------------------------- | -------------------- | ------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Text**       | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Erforderlich         | Eine               | Eine UTF-8-Zeichenfolge, die die Nachricht enthält.                                                                                                                                                                                                                                                       |
| **language**   | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | BCP-47 language. Kann weggelassen werden, wenn die language unbekannt ist oder wenn für den Feed überhaupt keine Internationalisierung vorgenommen wird. Höchstens eine Übersetzung darf ein nicht spezifiziertes language haben - gibt es mehr als eine Übersetzung, muss die language angegeben werden. |

## _Nachricht_ TranslatedImage

Eine internationalisierte Nachricht, die die einzelnen Sprachversionen eines Bildes enthält. Eines der Bilder aus einer Nachricht wird ausgewählt. Bei der Auflösung wird wie folgt vorgegangen: Wenn die language der Benutzeroberfläche mit dem language einer Übersetzung übereinstimmt, wird die erste passende Übersetzung ausgewählt. Wenn eine language (z. B. Englisch) mit dem language einer Übersetzung übereinstimmt, wird die erste passende Übersetzung ausgewählt. Wenn eine Übersetzung einen nicht spezifizierten language hat, wird diese Übersetzung ausgewählt.

**Achtung:** Diese Nachricht ist noch **experimentell** und kann sich noch ändern. Sie kann in der Zukunft formell angenommen werden.

**Felder**

| _**Feldname**_      | _**Typ**_                                 | _**Erforderlich**_ | _**Kardinalität**_ | _**Beschreibung**_                                          |
| ------------------- | ----------------------------------------- | ------------------ | ------------------ | ----------------------------------------------------------- |
| **localized_image** | [LocalizedImage](#message-localizedimage) | Erforderlich       | Viele              | Es muss mindestens ein lokalisiertes Bild angegeben werden. |

## _Nachricht_ LocalizedImage

Eine lokalisierte Bild-URL, die einer language zugeordnet ist.

| _**Feldname**_ | _**Typ**_                                                                        | _**Erforderlich**_   | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| -------------- | -------------------------------------------------------------------------------- | -------------------- | ------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **url**        | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Erforderlich         | Eine               | String mit einer URL, die auf ein Bild verweist. Das verlinkte Bild muss weniger als 2 MB groß sein. Wenn sich ein Bild so stark ändert, dass eine Aktualisierung auf der Verbraucherseite erforderlich ist, muss der Hersteller die URL auf eine neue URL aktualisieren.<br/><br/> Die URL sollte eine vollständig qualifizierte URL sein, die http:// oder https:// enthält, und alle Sonderzeichen in der URL müssen korrekt escaped werden. Siehe die folgenden [https://www.w3.org/Addressing/URL/4_URI_Recommentations.html für](https://www.w3.org/Addressing/URL/4_URI_Recommentations.html for) finden Sie eine Beschreibung, wie Sie voll qualifizierte URL-Werte erstellen. |
| **media_type** | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Erforderlich         | Eine               | IANA-Medientyp, um den Typ des anzuzeigenden Bildes anzugeben. Der Typ muss mit "image/" beginnen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **language**   | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Bedingt erforderlich | Eine               | BCP-47 language. Kann weggelassen werden, wenn die language unbekannt ist oder wenn für den Feed überhaupt keine Internationalisierung vorgenommen wird. Höchstens eine Übersetzung darf ein nicht spezifiziertes language haben - gibt es mehr als eine Übersetzung, muss die language angegeben werden.                                                                                                                                                                                                                                                                                                                                                                              |

## _Nachricht_ Form

Beschreibt den physischen Weg, den ein Fahrzeug nimmt, wenn die Form nicht Teil des (CSV) GTFS ist, z. B. bei einer Ad-hoc-Umleitung. Shapes gehören zu Trips und bestehen aus einer kodierten Polylinie, um eine effizientere Übertragung zu ermöglichen. Shapes müssen die Lage der Haltestellen nicht exakt abfangen, aber alle Haltestellen einer Fahrt sollten innerhalb eines kleinen Abstands zum Shape für diese Fahrt liegen, d. h. in der Nähe von geraden Liniensegmenten, die die Shape-Punkte verbinden

**Achtung:** Diese Nachricht ist noch **experimentell** und kann sich noch ändern. Sie kann in der Zukunft formell angenommen werden.<br/>.

**Felder**

| _**Feldname**_         | _**Typ**_                                                                        | _**Erforderlich**_ | _**Kardinalität**_ | _**Beschreibung**_                                                                                                                                                                                                                                                                                                                                                                          |
| ---------------------- | -------------------------------------------------------------------------------- | ------------------ | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **shape_id**           | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Erforderlich       | Eine               | Bezeichner des Shapes. Muss anders sein als die `shape_id` in der (CSV) GTFS definiert. <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden.                                                                                                                                                  |
| **kodierte_polylinie** | [zeichenkette](https://developers.google.com/protocol-buffers/docs/proto#scalar) | Erforderlich       | Eine               | Kodierte Polyliniendarstellung der Form. Dieser Linienzug muss mindestens zwei Punkte enthalten. Für weitere Informationen über kodierte Polylinien siehe <https://developers.google.com/maps/documentation/utilities/polylinealgorithm> <br/><br/>**Vorsicht:** dieses Feld ist noch **experimentell**und vorbehaltlich von Änderungen. Sie kann in der Zukunft formell angenommen werden. |
