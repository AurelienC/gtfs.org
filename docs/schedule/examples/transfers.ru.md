# Трансферы

<hr/>

## Блочные трансферы

Блочный трансфер, также называемый трансфером на сиденье, доступен, когда набор поездок удовлетворяет следующим условиям:

1. Поездки следуют одна за другой.
2. Одна и та же машина выполняет обе поездки.
3. Поездки предоставляются с тем же значением `block_id` в файле [trips.txt](../../reference/#tripstxt) в транзитной ленте.

### Используйте `block_id` для включения блочных трансферов

Блочные передачи могут выполняться между последовательными поездками на разных маршрутах или на одном маршруте, если маршрут является кольцевой линией. Используйте поле `block_id`, чтобы указать, какие поездки входят в один блок и где доступны пересадки в креслах.

Например, рассмотрим следующие значения [trips.txt](../../reference/#tripstxt) и [stop_times.txt](../../reference/#stoptimestxt):

[**trips.txt**](../../reference/#tripstxt)

| route_id | trip_id       | block_id |
| -------- | ------------- |----------|
| RouteА | RouteАTrip1 | Block1   |
| RouteВ | RouteВTrip1 | Block1   |

[**stop_times.txt**](../../reference/#stoptimestxt)

| trip_id       | arrival_time | departure_time | stop_id | stop_sequence |
| ------------- | -------------- | ----------------- | ------- | ------------- |
| RouteАTrip1 | 12:00:00       | 12:01:00          | A       | 1             |
| RouteАTrip1 | 12:05:00       | 12:06:00          | B       | 2             |
| RouteАTrip1 | 12:15:00       |                   | C       | 3             |
| RouteВTrip1 |                | 12:18:00          | C       | 1             |
| RouteВTrip1 | 12:22:00       | 12:23:00          | D       | 2             |
| RouteВTrip1 | 12:30:00       |                   | E       | 3             |

В этом примере:

- Пользователь, который ищет маршрут от остановки A до остановки E, получает указание сесть на остановке A в 12:00 по маршруту A и остаться в транспортном средстве, когда оно достигнет остановки C после окончания `RouteATrip1`. Это связано с тем, что одно и то же транспортное средство обслуживает `RouteBTrip1` для маршрута B.
- Пассажиры `RouteATrip1`, которые хотят продолжить поездку до остановки `RouteBTrip1`, могут остаться в транспортном средстве для этой пересадки.
- Пассажиры других поездок на других транспортных средствах по этим же маршрутам не имеют такой возможности, поскольку для каждой поездки используются разные транспортные средства.

### Блочная пересадка на кольцевой линии

На кольцевой линии первая и последняя остановки поездки одинаковы и имеют одинаковый `stop_id`. При условии, что последовательные поездки на кольцевой линии имеют одинаковый идентификатор `block_id`, включается блочная или сидячая пересадка, которая позволяет пассажирам первой поездки оставаться в транспортном средстве, когда оно продолжает движение по следующей кольцевой линии.
