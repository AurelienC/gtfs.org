### transferts.txt

Fichier : **facultatif**

Clé primaire`(from_stop_id`, `to_stop_id`, `from_trip_id`, `to_trip_id`, `from_route_id`, `to_route_id`)

Lors du calcul d'un itinéraire, les applications consommatrices de GTFS interpolent les transferts en fonction du temps autorisé et de la proximité des arrêts. [Transfers.txt](#transferstxt) spécifie des règles supplémentaires et des dérogations pour les transferts sélectionnés.

Les champs `from_trip_id`, `to_trip_id`, `from_route_id` et `to_route_id` permettent des niveaux de spécificité plus élevés pour les règles de transfert. Avec `from_stop_id` et `to_stop_id`, le classement de la spécificité est le suivant :

1. Les deux `trip_id`définis : `from_trip_id` et `to_trip_id`.
2. Un ensemble de `trip_id` et `route_id` défini :`(from_trip_id` et `to_route_id`) ou`(from_route_id` et `to_trip_id`).
3. Un `trip_id` défini : `from_trip_id` ou `to_trip_id`.
4. Les deux `route_ids`définis : `from_route_id` et `to_route_id`.
5. Un seul `route_id` défini : `from_route_id` ou `to_route_id`.
6. Seuls `from_stop_id` et `to_stop_id` sont définis : aucun champ relatif à l'itinéraire ou au voyage n'est défini.

Pour une paire ordonnée donnée de trajet d'arrivée et de trajet de départ, le transfert le plus spécifique qui s'applique entre ces deux trajets est choisi. Pour toute paire de trajets, il ne devrait pas y avoir deux transferts avec la même spécificité maximale qui pourraient s'appliquer.

| Nom du champ        | Type                                                     | Présence        | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ------------------- | -------------------------------------------------------- | --------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `from_stop_id`      | Référencement d'identifiants étrangers `stops.stop_id`   | **Obligatoire** | Identifie un arrêt ou une station où commence une connexion entre itinéraires. Si ce champ fait référence à une station, la règle de transfert s'applique à tous ses arrêts enfants.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `to_stop_id`        | Référencement d'identifiants étrangers `stops.stop_id`   | **Obligatoire** | Identifie un arrêt ou une station où se termine une connexion entre des itinéraires. Si ce champ fait référence à une station, la règle de transfert s'applique à tous les arrêts enfants.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `from_route_id`     | Référencement d'identifiants étrangers `routes.route_id` | Facultatif      | Identifie un itinéraire où commence une connexion.<br /><br />Si `from_route_id` est défini, le transfert s'appliquera au trajet arrivant sur l'itinéraire pour l'identifiant donné `from_stop_id`.<br /><br />Si les deux `from_trip_id` et `from_route_id` sont définis, le `trip_id` doit appartenir au `route_id`et `from_trip_id` aura la priorité.                                                                                                                                                                                                                                                                                                                                                   |
| `to_route_id`       | Référencement d'identifiants étrangers `routes.route_id` | Facultatif      | Identifie un itinéraire où une connexion se termine.<br /><br />Si `to_route_id` est défini, le transfert s'appliquera au trajet de départ sur l'itinéraire pour l'identifiant donné `to_stop_id`.<br /><br />Si les deux `to_trip_id` et `to_route_id` sont définis, le `trip_id` doit appartenir au `route_id`et `to_trip_id` aura la priorité.                                                                                                                                                                                                                                                                                                                                                          |
| `from_trip_id`      | Référencement d'identifiants étrangers `trips.trip_id`   | Facultatif      | Identifie un trajet où commence une connexion entre des itinéraires.<br /><br />Si `from_trip_id` est défini, le transfert s'appliquera au trajet arrivant pour l'identifiant `from_stop_id`.<br /><br />Si les deux `from_trip_id` et `from_route_id` sont définis, le `trip_id` doit appartenir au `route_id`et `from_trip_id` aura la priorité.                                                                                                                                                                                                                                                                                                                                                         |
| `to_trip_id`        | Référencement d'identifiants étrangers `trips.trip_id`   | Facultatif      | Identifie un trajet où se termine une connexion entre des itinéraires.<br /><br />Si `to_trip_id` est défini, le transfert s'appliquera au trajet de départ pour l'identifiant `to_stop_id`.<br /><br />Si les deux `to_trip_id` et `to_route_id` sont définis, le `trip_id` doit appartenir au `route_id`et `to_trip_id` aura la priorité.                                                                                                                                                                                                                                                                                                                                                                |
| `transfer_type`     | Enum                                                     | **Obligatoire** | Indique le type de connexion pour l'élément spécifié (`from_stop_id`, `to_stop_id`) spécifiée. Les options valides sont :<br /><br /> `0` ou vide - Point de transfert recommandé entre deux itinéraires.<br />`1` - Point de transfert programmé entre deux itinéraires. Le véhicule qui part est censé attendre celui qui arrive et laisser suffisamment de temps à l'usager pour effectuer le transfert entre deux itinéraires.<br />`2` - Le transfert nécessite un temps minimum entre l'arrivée et le départ pour assurer une correspondance. Le temps nécessaire au transfert est spécifié par `min_transfer_time`.<br />`3` - Les transferts ne sont pas possibles entre les lignes à cet endroit. |
| `min_transfer_time` | Nombre entier non négatif                                | Facultatif      | Temps, en secondes, qui doit être disponible pour permettre un transfert entre itinéraires aux arrêts spécifiés. Le site `min_transfer_time` doit être suffisant pour permettre à un usager type de se déplacer entre les deux arrêts, y compris un temps tampon pour tenir compte des variations d'horaires sur chaque itinéraire.                                                                                                                                                                                                                                                                                                                                                                        |
